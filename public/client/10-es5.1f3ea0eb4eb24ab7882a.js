function _get(t,e,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=_superPropBase(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/RwR":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("0IaG"),r=i("fXoL"),a=i("VaLf"),o=i("kmQS"),s=i("NFeN"),c=i("ofXK"),l=i("bTqV");function u(t,e){if(1&t&&(r.Xb(0,"p",9),r.Nc(1),r.Wb()),2&t){var i=r.jc();r.Db(1),r.Oc(i.data.bodyBold)}}var d=function(){var t=function(){function t(e,i,n,r){_classCallCheck(this,t),this.dialogRef=e,this.data=i,this.i18n=n,this.settings=r}return _createClass(t,[{key:"close",value:function(){this.dialogRef.close(!1)}},{key:"ngOnInit",value:function(){this.data.title=this.i18n.t(this.data.title),this.data.body=this.i18n.t(this.data.body),this.data.bodyBold&&(this.data.bodyBold=this.i18n.t(this.data.bodyBold)),this.data.ok=this.i18n.t(this.data.ok?this.data.ok:"Confirm"),this.data.cancel=this.i18n.t(this.data.cancel?this.data.cancel:"Cancel")}},{key:"confirm",value:function(){this.dialogRef.close(!0)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Rb(n.h),r.Rb(n.a),r.Rb(a.a),r.Rb(o.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["confirm-modal"]],decls:14,vars:5,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["mat-dialog-content","",1,"mat-dialog-contents"],["class","bold",4,"ngIf"],["mat-dialog-actions","",1,"buttons","right","mat-dialog-actions"],["type","button","mat-button","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","cdkFocusInitial","",1,"button","primary","submit-button",3,"click"],[1,"bold"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"h2",1),r.Nc(2),r.Wb(),r.Xb(3,"button",2),r.fc("click",(function(t){return e.close()})),r.Sb(4,"mat-icon",3),r.Wb(),r.Wb(),r.Xb(5,"div",4),r.Xb(6,"p"),r.Nc(7),r.Wb(),r.Lc(8,u,2,1,"p",5),r.Wb(),r.Xb(9,"div",6),r.Xb(10,"button",7),r.fc("click",(function(t){return e.close()})),r.Nc(11),r.Wb(),r.Xb(12,"button",8),r.fc("click",(function(t){return e.confirm()})),r.Nc(13),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.Oc(e.data.title),r.Db(5),r.Oc(e.data.body),r.Db(1),r.rc("ngIf",e.data.bodyBold),r.Db(3),r.Oc(e.data.cancel),r.Db(2),r.Oc(e.data.ok))},directives:[n.i,s.a,n.f,c.t,n.c,l.b],styles:["[_nghost-%COMP%]{display:block;max-width:500px}.modal-header[_ngcontent-%COMP%]{margin-bottom:10px}.bold[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%]{font-size:1.5rem}"],changeDetection:0}),t}()},"/w9p":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=new(i("fXoL").r)("PREVIEW_URL_TRANSFORMER",{factory:function(){return function(t){return t.url}},providedIn:"root"})},"1jcm":function(t,e,i){"use strict";i.d(e,"a",(function(){return k})),i.d(e,"b",(function(){return w}));var n=i("GU7r"),r=i("fXoL"),a=i("FKr1"),o=i("8LU1"),s=i("3Pt+"),c=i("R1ws"),l=i("u47x"),u=i("cH1L"),d=["thumbContainer"],h=["toggleBar"],p=["input"],b=function(){return{enterDuration:150}},g=["*"],f=new r.r("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1}}}),m=0,v={provide:s.r,useExisting:Object(r.V)((function(){return k})),multi:!0},y=function t(e,i){_classCallCheck(this,t),this.source=e,this.checked=i},_=Object(a.C)(Object(a.x)(Object(a.y)(Object(a.z)((function t(e){_classCallCheck(this,t),this._elementRef=e}))),"accent")),k=function(){var t=function(t){function e(t,i,n,a,o,s,c,l){var u;return _classCallCheck(this,e),(u=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._focusMonitor=i,u._changeDetectorRef=n,u.defaults=s,u._animationMode=c,u._onChange=function(t){},u._onTouched=function(){},u._uniqueId="mat-slide-toggle-".concat(++m),u._required=!1,u._checked=!1,u.name=null,u.id=u._uniqueId,u.labelPosition="after",u.ariaLabel=null,u.ariaLabelledby=null,u.change=new r.o,u.toggleChange=new r.o,u.dragChange=new r.o,u.tabIndex=parseInt(a)||0,u}return _inherits(e,t),_createClass(e,[{key:"ngAfterContentInit",value:function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(e){e||Promise.resolve().then((function(){return t._onTouched()}))}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_onChangeEvent",value:function(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}},{key:"_onInputClick",value:function(t){t.stopPropagation()}},{key:"writeValue",value:function(t){this.checked=!!t}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetectorRef.markForCheck()}},{key:"focus",value:function(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}},{key:"toggle",value:function(){this.checked=!this.checked,this._onChange(this.checked)}},{key:"_emitChangeEvent",value:function(){this._onChange(this.checked),this.change.emit(new y(this,this.checked))}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(o.c)(t)}},{key:"checked",get:function(){return this._checked},set:function(t){this._checked=Object(o.c)(t),this._changeDetectorRef.markForCheck()}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}}]),e}(_);return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(l.h),r.Rb(r.h),r.cc("tabindex"),r.Rb(r.A),r.Rb(f),r.Rb(c.a,8),r.Rb(u.c,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){var i;1&t&&(r.Sc(d,!0),r.Sc(h,!0),r.Sc(p,!0)),2&t&&(r.yc(i=r.gc())&&(e._thumbEl=i.first),r.yc(i=r.gc())&&(e._thumbBarEl=i.first),r.yc(i=r.gc())&&(e._inputElement=i.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&r.fc("focus",(function(t){return e._inputElement.nativeElement.focus()})),2&t&&(r.ac("id",e.id),r.Eb("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),r.Hb("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[r.Cb([v]),r.Ab],ngContentSelectors:g,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(r.qc(),r.Xb(0,"label",0,1),r.Xb(2,"div",2,3),r.Xb(4,"input",4,5),r.fc("change",(function(t){return e._onChangeEvent(t)}))("click",(function(t){return e._onInputClick(t)})),r.Wb(),r.Xb(6,"div",6,7),r.Sb(8,"div",8),r.Xb(9,"div",9),r.Sb(10,"div",10),r.Wb(),r.Wb(),r.Wb(),r.Xb(11,"span",11,12),r.fc("cdkObserveContent",(function(t){return e._onLabelTextChange()})),r.Xb(13,"span",13),r.Nc(14,"\xa0"),r.Wb(),r.pc(15),r.Wb(),r.Wb()),2&t){var i=r.zc(1),n=r.zc(12);r.Eb("for",e.inputId),r.Db(2),r.Hb("mat-slide-toggle-bar-no-side-margin",!n.textContent||!n.textContent.trim()),r.Db(2),r.rc("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),r.Eb("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),r.Db(5),r.rc("matRippleTrigger",i)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",r.vc(17,b))}},directives:[a.s,n.a],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t}(),C=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t}(),w=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[C,a.t,a.i,n.d],C,a.i]}),t}()},"5+WD":function(t,e,i){"use strict";var n=i("fXoL"),r=i("ofXK"),a=i("vxfF"),o=i("nLfN"),s=i("8LU1"),c=i("XNiG"),l=i("quSY"),u=i("HDdC"),d=i("D0XW"),h=i("Y7HM");function p(t){var e=t.subscriber,i=t.counter,n=t.period;e.next(i),this.schedule({subscriber:e,counter:i+1,period:n},n)}var b=i("eNwd"),g=i("VRyK"),f=i("JX91"),m=i("1G5W"),v=i("lJxs"),y=i("IzEk"),_=i("vkgz"),k=i("eIep"),C=i("cH1L");function w(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function x(t,e){var i=e?"":"none";w(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function D(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function S(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}i.d(e,"a",(function(){return lt})),i.d(e,"b",(function(){return rt})),i.d(e,"c",(function(){return ft})),i.d(e,"d",(function(){return mt})),i.d(e,"e",(function(){return M}));var I=Object(o.g)({passive:!0}),R=Object(o.g)({passive:!1}),O=function(){function t(e,i,n,r,a,o){var s=this;_classCallCheck(this,t),this._config=i,this._document=n,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new c.a,this._pointerMoveSubscription=l.a.EMPTY,this._pointerUpSubscription=l.a.EMPTY,this._scrollSubscription=l.a.EMPTY,this._resizeSubscription=l.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new c.a,this.started=new c.a,this.released=new c.a,this.ended=new c.a,this.entered=new c.a,this.exited=new c.a,this.dropped=new c.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find((function(e){var i=t.target;return!!i&&(i===e||e.contains(i))}));!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){if(t.preventDefault(),s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect()));var e=s._getConstrainedPointerPosition(t);if(s._hasMoved=!0,s._updatePointerDirectionDelta(e),s._dropContainer)s._updateActiveDropContainer(e);else{var i=s._activeTransform;i.x=e.x-s._pickupPositionOnPage.x+s._passiveTransform.x,i.y=e.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(i.x,i.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(i.x," ").concat(i.y,")"))}s._moveEvents.observers.length&&s._ngZone.run((function(){s._moveEvents.next({source:s,pointerPosition:e,event:t,distance:s._getDragDistance(e),delta:s._pointerDirectionDelta})}))}else{var n=s._getPointerPositionOnPage(t);if(Math.abs(n.x-s._pickupPositionOnPage.x)+Math.abs(n.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){if(!(Date.now()>=s._dragStartTime+s._getDragStartDelay(t)))return void s._endDragSequence(t);s._dropContainer&&s._dropContainer.isDragging()||(s._hasStartedDragging=!0,s._ngZone.run((function(){return s._startDragSequence(t)})))}}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e),o.registerDragItem(this)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"withHandles",value:function(t){return this._handles=t.map((function(t){return Object(s.e)(t)})),this._handles.forEach((function(t){return x(t,!1)})),this._toggleNativeDragInteractions(),this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=Object(s.e)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,R),e.addEventListener("touchstart",this._pointerDown,I),this._initialTransform=void 0,this._rootElement=e),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?Object(s.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&W(this._rootElement),W(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}},{key:"enableHandle",value:function(t){this._disabledHandles.delete(t)}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(t)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&W(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&W(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){if(this.started.next({source:this}),E(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){var e=this._rootElement,i=e.parentNode,n=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(a,e),e.style.display="none",this._document.body.appendChild(i.replaceChild(r,e)),(o=this._document,o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body).appendChild(n),this._dropContainer.start()}var o}},{key:"_initializeDragSequence",value:function(t,e){var i=this;e.stopPropagation();var n=this.isDragging(),r=E(e),a=!r&&0!==e.button,o=this._rootElement,s=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(n||a||s)){this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(Object(f.a)(null)).subscribe((function(){i._scrollPosition=i._viewportRuler.getViewportScrollPosition()})),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(t,e);var c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var i=e._dropContainer,n=i.getItemIndex(e),r=e._getPointerPositionOnPage(t),a=e._getDragDistance(e._getPointerPositionOnPage(t)),o=i._isOverContainer(r.x,r.y);e.ended.next({source:e,distance:a}),e.dropped.next({item:e,currentIndex:n,previousIndex:e._initialContainer.getItemIndex(e),container:i,previousContainer:e._initialContainer,isPointerOverContainer:o,distance:a}),i.drop(e,n,e._initialContainer,o,a),e._dropContainer=e._initialContainer}))}},{key:"_updateActiveDropContainer",value:function(t){var e=this,i=t.x,n=t.y,r=this._initialContainer._getSiblingContainerFromPosition(this,i,n);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,n)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run((function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e._dropContainer=r,e._dropContainer.enter(e,i,n),e.entered.next({item:e,container:r,currentIndex:r.getItemIndex(e)})})),this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,i,n,this._pointerDirectionDelta),this._preview.style.transform=P(i-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,i=this.previewClass,n=e?e.template:null;if(n){var r=e.viewContainer.createEmbeddedView(n,e.context);t=T(r,this._document),this._previewRef=r,t.style.transform=P(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var a=this._rootElement,o=a.getBoundingClientRect();(t=X(a)).style.width="".concat(o.width,"px"),t.style.height="".concat(o.height,"px"),t.style.transform=P(o.left,o.top)}return w(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"1000"}),x(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach((function(e){return t.classList.add(e)})):t.classList.add(i)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=P(e.left,e.top);var i=function(t){var e=getComputedStyle(t),i=S(e,"transition-property"),n=i.find((function(t){return"transform"===t||"all"===t}));if(!n)return 0;var r=i.indexOf(n),a=S(e,"transition-duration"),o=S(e,"transition-delay");return D(a[r])+D(o[r])}(this._preview);return 0===i?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var n=function i(n){(!n||n.target===t._preview&&"transform"===n.propertyName)&&(t._preview.removeEventListener("transitionend",i),e(),clearTimeout(r))},r=setTimeout(n,1.5*i);t._preview.addEventListener("transitionend",n)}))}))}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,i=e?e.template:null;return i?(this._placeholderRef=e.viewContainer.createEmbeddedView(i,e.context),t=T(this._placeholderRef,this._document)):t=X(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var i=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,r=n?n.getBoundingClientRect():i,a=E(e)?e.targetTouches[0]:e;return{x:r.left-i.left+(a.pageX-r.left-this._scrollPosition.left),y:r.top-i.top+(a.pageY-r.top-this._scrollPosition.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=E(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this._getPointerPositionOnPage(t),i=this.constrainPosition?this.constrainPosition(e,this):e,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?i.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(i.x=this._pickupPositionOnPage.x),this._boundaryRect){var r=this._pickupPositionInElement,a=r.x,o=r.y,s=this._boundaryRect,c=this._previewRect,l=s.top+o,u=s.bottom-(c.height-o);i.x=L(i.x,s.left+a,s.right-(c.width-a)),i.y=L(i.y,l,u)}return i}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,i=t.y,n=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),o=Math.abs(i-r.y);return a>this._config.pointerDirectionChangeThreshold&&(n.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(n.y=i>r.y?1:-1,r.y=i),n}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,x(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,R),t.removeEventListener("touchstart",this._pointerDown,I)}},{key:"_applyRootElementTransform",value:function(t,e){var i=P(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,i=t.y;if(!(0===e&&0===i||this.isDragging())&&this._boundaryElement){var n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(!(0===n.width&&0===n.height||0===r.width&&0===r.height)){var a=n.left-r.left,o=r.right-n.right,s=n.top-r.top,c=r.bottom-n.bottom;n.width>r.width?(a>0&&(e+=a),o>0&&(e-=o)):e=0,n.height>r.height?(s>0&&(i+=s),c>0&&(i-=c)):i=0,e===this._passiveTransform.x&&i===this._passiveTransform.y||this.setFreeDragPosition({y:i,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:E(t)?e.touch:e?e.mouse:0}},{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Object(s.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}}]),t}();function P(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function X(t){var e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),n=t.querySelectorAll("canvas");e.removeAttribute("id");for(var r=0;r<i.length;r++)i[r].removeAttribute("id");if(n.length)for(var a=e.querySelectorAll("canvas"),o=0;o<n.length;o++){var s=a[o].getContext("2d");s&&s.drawImage(n[o],0,0)}return e}function L(t,e,i){return Math.max(e,Math.min(i,t))}function W(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function E(t){return"t"===t.type[0]}function T(t,e){var i=t.rootNodes[0];if(i.nodeType!==e.ELEMENT_NODE){var n=e.createElement("div");return n.appendChild(i),n}return i}function M(t,e,i){var n=A(e,t.length-1),r=A(i,t.length-1);if(n!==r){for(var a=t[n],o=r<n?-1:1,s=n;s!==r;s+=o)t[s]=t[s+o];t[r]=a}}function A(t,e){return Math.max(0,Math.min(e,t))}var j=function(){function t(e,i,n,r,a){var o=this;_classCallCheck(this,t),this._dragDropRegistry=i,this._ngZone=r,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new c.a,this.entered=new c.a,this.exited=new c.a,this.dropped=new c.a,this.sorted=new c.a,this._isDragging=!1,this._itemPositions=[],this._scrollPosition={top:0,left:0},this._viewportScrollPosition={top:0,left:0},this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=l.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new c.a,this._cachedShadowRoot=null,this._handleScroll=function(){if(o.isDragging()){var t=Object(s.e)(o.element);o._updateAfterScroll(o._scrollPosition,t.scrollTop,t.scrollLeft)}},this._startScrollInterval=function(){o._stopScrolling(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a;return(!Object(h.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=d.a),new u.a((function(i){return i.add(e.schedule(p,t,{subscriber:i,counter:0,period:t})),i}))}(0,b.a).pipe(Object(m.a)(o._stopScrollTimers)).subscribe((function(){var t=o._scrollNode;1===o._verticalScrollDirection?z(t,-2):2===o._verticalScrollDirection&&z(t,2),1===o._horizontalScrollDirection?B(t,-2):2===o._horizontalScrollDirection&&B(t,2)}))},this.element=Object(s.e)(e),this._document=n,i.registerDropContainer(this)}return _createClass(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._removeListeners(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){var t=this,e=Object(s.e)(this.element);this.beforeStarted.next(),this._isDragging=!0,this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._removeListeners(),this._ngZone.runOutsideAngular((function(){return e.addEventListener("scroll",t._handleScroll)})),this._listenToScrollEvents()}},{key:"enter",value:function(t,e,i){this.start();var n=this.sortingDisabled?this._draggables.indexOf(t):-1;-1===n&&(n=this._getItemIndexFromPointerPosition(t,e,i));var r=this._activeDraggables,a=r.indexOf(t),o=t.getPlaceholderElement(),c=r[n];if(c===t&&(c=r[n+1]),a>-1&&r.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){var l=c.getRootElement();l.parentElement.insertBefore(o,l),r.splice(n,0,t)}else Object(s.e)(this.element).appendChild(o),r.push(t);o.style.transform="",this._cacheItemPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,i,n,r){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i.getItemIndex(t),container:this,previousContainer:i,isPointerOverContainer:n,distance:r})}},{key:"withItems",value:function(t){var e=this;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&this._cacheItems(),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"getItemIndex",value:function(t){return this._isDragging?F("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,i,n){if(!this.sortingDisabled&&this._isPointerNearDropContainer(e,i)){var r=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,n);if(!(-1===a&&r.length>0)){var o="horizontal"===this._orientation,s=F(r,(function(e){return e.drag===t})),c=r[a],l=r[s].clientRect,u=c.clientRect,d=s>a?1:-1;this._previousSwap.drag=c.drag,this._previousSwap.delta=o?n.x:n.y;var h=this._getItemOffsetPx(l,u,d),p=this._getSiblingOffsetPx(s,r,d),b=r.slice();M(r,s,a),this.sorted.next({previousIndex:s,currentIndex:a,container:this,item:t}),r.forEach((function(e,i){if(b[i]!==e){var n=e.drag===t,r=n?h:p,a=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,o?(a.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),N(e.clientRect,0,r)):(a.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),N(e.clientRect,r,0))}}))}}}},{key:"_startScrollingIfNecessary",value:function(t,e){if(!this.autoScrollDisabled){var i,n=0,r=0;if(this._isPointerNearDropContainer(t,e)){var a,o,c=Object(s.e)(this.element);a=function(t,e,i,n){var r=V(e,n),a=U(e,i),o=0,s=0;if(r){var c=t.scrollTop;1===r?c>0&&(o=1):t.scrollHeight-c>t.clientHeight&&(o=2)}if(a){var l=t.scrollLeft;1===a?l>0&&(s=1):t.scrollWidth-l>t.clientWidth&&(s=2)}return[o,s]}(c,this._clientRect,t,e),n=(o=_slicedToArray(a,2))[0],r=o[1],(n||r)&&(i=c)}if(!n&&!r){var l=this._viewportRuler.getViewportSize(),u=l.width,d=l.height,h={width:u,height:d,top:0,right:u,bottom:d,left:0};n=V(h,e),r=U(h,t),i=window}!i||n===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=n,this._horizontalScrollDirection=r,this._scrollNode=i,(n||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_cacheOwnPosition",value:function(){var t=Object(s.e)(this.element);this._clientRect=Y(t),this._scrollPosition={top:t.scrollTop,left:t.scrollLeft}}},{key:"_cacheItemPositions",value:function(){var t=this,e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(e){var i=t._dragDropRegistry.isDragging(e)?e.getPlaceholderElement():e.getRootElement();return{drag:e,offset:0,clientRect:Y(i)}})).sort((function(t,i){return e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top}))}},{key:"_reset",value:function(){var t=this;this._isDragging=!1,this._activeDraggables.forEach((function(t){return t.getRootElement().style.transform=""})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._removeListeners()}},{key:"_getSiblingOffsetPx",value:function(t,e,i){var n="horizontal"===this._orientation,r=e[t].clientRect,a=e[t+-1*i],o=r[n?"width":"height"]*i;if(a){var s=n?"left":"top",c=n?"right":"bottom";-1===i?o-=a.clientRect[s]-r[c]:o+=r[s]-a.clientRect[c]}return o}},{key:"_isPointerNearDropContainer",value:function(t,e){var i=this._clientRect,n=i.top,r=i.right,a=i.bottom,o=i.left,s=.05*i.width,c=.05*i.height;return e>n-c&&e<a+c&&t>o-s&&t<r+s}},{key:"_getItemOffsetPx",value:function(t,e,i){var n="horizontal"===this._orientation,r=n?e.left-t.left:e.top-t.top;return-1===i&&(r+=n?e.width-t.width:e.height-t.height),r}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,i,n){var r=this,a="horizontal"===this._orientation;return F(this._itemPositions,(function(o,s,c){var l=o.drag,u=o.clientRect;if(l===t)return c.length<2;if(n){var d=a?n.x:n.y;if(l===r._previousSwap.drag&&d===r._previousSwap.delta)return!1}return a?e>=Math.floor(u.left)&&e<=Math.floor(u.right):i>=Math.floor(u.top)&&i<=Math.floor(u.bottom)}))}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheOwnPosition()}},{key:"_updateAfterScroll",value:function(t,e,i,n){var r=this,a=t.top-e,o=t.left-i;n&&N(n,a,o),this._itemPositions.forEach((function(t){N(t.clientRect,a,o)})),this._itemPositions.forEach((function(t){var e=t.drag;r._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})),t.top=e,t.left=i}},{key:"_removeListeners",value:function(){Object(s.e)(this.element).removeEventListener("scroll",this._handleScroll),this._viewportScrollSubscription.unsubscribe()}},{key:"_isOverContainer",value:function(t,e){return H(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,i){return this._siblings.find((function(n){return n._canReceive(t,e,i)}))}},{key:"_canReceive",value:function(t,e,i){if(!H(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;var n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;var r=Object(s.e)(this.element);return n===r||r.contains(n)}},{key:"_startReceiving",value:function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheOwnPosition(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(){if(t.isDragging()){var e=t._viewportRuler.getViewportScrollPosition();t._updateAfterScroll(t._viewportScrollPosition,e.top,e.left,t._clientRect)}else t.isReceiving()&&t._cacheOwnPosition()}))}},{key:"_getShadowRoot",value:function(){return this._cachedShadowRoot||(this._cachedShadowRoot=function(t){if(Object(o.d)()){var e=t.getRootNode?t.getRootNode():null;if(e instanceof ShadowRoot)return e}return null}(Object(s.e)(this.element))||this._document),this._cachedShadowRoot}}]),t}();function N(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function F(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function H(t,e,i){var n=t.top,r=t.bottom,a=t.left,o=t.right;return i>=n&&i<=r&&e>=a&&e<=o}function Y(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function z(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function B(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function V(t,e){var i=t.top,n=t.bottom,r=.05*t.height;return e>=i-r&&e<=i+r?1:e>=n-r&&e<=n+r?2:0}function U(t,e){var i=t.left,n=t.right,r=.05*t.width;return e>=i-r&&e<=i+r?1:e>=n-r&&e<=n+r?2:0}var q,Q,K,$,Z,G,J=Object(o.g)({passive:!1,capture:!0}),tt=((q=function(){function t(e,i){var n=this;_classCallCheck(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new c.a,this.pointerUp=new c.a,this.scroll=new c.a,this._preventDefaultWhileDragging=function(t){n._activeDragInstances.size&&t.preventDefault()},this._document=i}return _createClass(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,J)}))}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,J)}},{key:"startDragging",value:function(t,e){var i=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var n=e.type.startsWith("touch"),r=n?"touchend":"mouseup";this._globalListeners.set(n?"touchmove":"mousemove",{handler:function(t){return i.pointerMove.next(t)},options:J}).set(r,{handler:function(t){return i.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return i.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:J}),this._ngZone.runOutsideAngular((function(){i._globalListeners.forEach((function(t,e){i._document.addEventListener(e,t.handler,t.options)}))}))}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach((function(e,i){t._document.removeEventListener(i,e.handler,e.options)})),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||q)(n.bc(n.A),n.bc(r.e))},q.\u0275prov=Object(n.Nb)({factory:function(){return new q(Object(n.bc)(n.A),Object(n.bc)(r.e))},token:q,providedIn:"root"}),q),et={dragStartThreshold:5,pointerDirectionChangeThreshold:5},it=((Q=function(){function t(e,i,n,r){_classCallCheck(this,t),this._document=e,this._ngZone=i,this._viewportRuler=n,this._dragDropRegistry=r}return _createClass(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et;return new O(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new j(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}()).\u0275fac=function(t){return new(t||Q)(n.bc(r.e),n.bc(n.A),n.bc(a.d),n.bc(tt))},Q.\u0275prov=Object(n.Nb)({factory:function(){return new Q(Object(n.bc)(r.e),Object(n.bc)(n.A),Object(n.bc)(a.d),Object(n.bc)(tt))},token:Q,providedIn:"root"}),Q),nt=new n.r("CDK_DRAG_PARENT"),rt=((Z=function(){function t(e,i){_classCallCheck(this,t),this.element=e,this._stateChanges=new c.a,this._disabled=!1,this._parentDrag=i,x(e.nativeElement,!1)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(s.c)(t),this._stateChanges.next(this)}}]),t}()).\u0275fac=function(t){return new(t||Z)(n.Rb(n.l),n.Rb(nt,8))},Z.\u0275dir=n.Mb({type:Z,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),Z),at=(($=function t(e){_classCallCheck(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||$)(n.Rb(n.N))},$.\u0275dir=n.Mb({type:$,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),$),ot=((K=function t(e){_classCallCheck(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||K)(n.Rb(n.N))},K.\u0275dir=n.Mb({type:K,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data"}}),K),st=new n.r("CDK_DROP_LIST"),ct=new n.r("CDK_DRAG_CONFIG",{providedIn:"root",factory:function(){return{dragStartThreshold:5,pointerDirectionChangeThreshold:5}}}),lt=((G=function(){function t(e,i,r,a,o,s,l,d,h){var p=this;_classCallCheck(this,t),this.element=e,this.dropContainer=i,this._document=r,this._ngZone=a,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=h,this._destroyed=new c.a,this.dragStartDelay=0,this._disabled=!1,this.started=new n.o,this.released=new n.o,this.ended=new n.o,this.entered=new n.o,this.exited=new n.o,this.dropped=new n.o,this.moved=new u.a((function(t){var e=p._dragRef.moved.pipe(Object(v.a)((function(t){return{source:p,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=d.createDrag(e,s),this._dragRef.data=this,this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return _createClass(t,[{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Object(y.a)(1),Object(m.a)(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Object(f.a)(t._handles),Object(_.a)((function(e){var i=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._dragRef.withHandles(i)})),Object(k.a)((function(t){return Object(g.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._stateChanges.pipe(Object(f.a)(t))}))))})),Object(m.a)(t._destroyed)).subscribe((function(e){var i=t._dragRef,n=e.element.nativeElement;e.disabled?i.disableHandle(n):i.enableHandle(n)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,i=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?ut(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error("cdkDrag must be attached to an element node. "+'Currently attached to "'.concat(e.nodeName,'".'));this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return ut(this.element.nativeElement,t);var e=Object(s.e)(t);if(Object(n.X)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}},{key:"_syncInputs",value:function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var i=e._dir,n=e.dragStartDelay,r=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,a=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:Object(s.f)(n),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a),i&&t.withDirection(i.value)}}))}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))}},{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=Object(s.c)(t),this._dragRef.disabled=this._disabled}}]),t}()).\u0275fac=function(t){return new(t||G)(n.Rb(n.l),n.Rb(st,12),n.Rb(r.e),n.Rb(n.A),n.Rb(n.Q),n.Rb(ct),n.Rb(C.c,8),n.Rb(it),n.Rb(n.h))},G.\u0275dir=n.Mb({type:G,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,i){var r;1&t&&(n.Jb(i,ot,!0),n.Jb(i,at,!0),n.Jb(i,rt,!0)),2&t&&(n.yc(r=n.gc())&&(e._previewTemplate=r.first),n.yc(r=n.gc())&&(e._placeholderTemplate=r.first),n.yc(r=n.gc())&&(e._handles=r))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&n.Hb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{dragStartDelay:["cdkDragStartDelay","dragStartDelay"],disabled:["cdkDragDisabled","disabled"],data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[n.Cb([{provide:nt,useExisting:G}]),n.Bb()]}),G);function ut(t,e){for(var i=t.parentElement;i;){if(i.matches?i.matches(e):i.msMatchesSelector(e))return i;i=i.parentElement}return null}var dt,ht,pt,bt=((pt=function(){function t(){_classCallCheck(this,t),this._items=new Set,this._disabled=!1}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._items.clear()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(s.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||pt)},pt.\u0275dir=n.Mb({type:pt,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),pt),gt=0,ft=((ht=function(){function t(e,i,r,a,o){var s=this;_classCallCheck(this,t),this.element=e,this._changeDetectorRef=r,this._dir=a,this._group=o,this._destroyed=new c.a,this.connectedTo=[],this.orientation="vertical",this.id="cdk-drop-list-".concat(gt++),this._disabled=!1,this.sortingDisabled=!1,this.enterPredicate=function(){return!0},this.autoScrollDisabled=!1,this.dropped=new n.o,this.entered=new n.o,this.exited=new n.o,this.sorted=new n.o,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,this._dropListRef.enterPredicate=function(t,e){return s.enterPredicate(t.data,e.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._draggables.changes.pipe(Object(f.a)(this._draggables),Object(m.a)(this._destroyed)).subscribe((function(e){t._dropListRef.withItems(e.reduce((function(e,i){return i.dropContainer===t&&e.push(i._dragRef),e}),[]))}))}},{key:"ngOnDestroy",value:function(){var e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"start",value:function(){this._dropListRef.start()}},{key:"drop",value:function(t,e,i,n){this._dropListRef.drop(t._dragRef,e,i._dropListRef,n,{x:0,y:0})}},{key:"enter",value:function(t,e,i){this._dropListRef.enter(t._dragRef,e,i)}},{key:"exit",value:function(t){this._dropListRef.exit(t._dragRef)}},{key:"getItemIndex",value:function(t){return this._dropListRef.getItemIndex(t._dragRef)}},{key:"_setupInputSyncSubscription",value:function(e){var i=this;this._dir&&this._dir.change.pipe(Object(f.a)(this._dir.value),Object(m.a)(this._destroyed)).subscribe((function(t){return e.withDirection(t)})),e.beforeStarted.subscribe((function(){var n=Object(s.b)(i.connectedTo).map((function(e){return"string"==typeof e?t._dropLists.find((function(t){return t.id===e})):e}));i._group&&i._group._items.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),e.disabled=i.disabled,e.lockAxis=i.lockAxis,e.sortingDisabled=Object(s.c)(i.sortingDisabled),e.autoScrollDisabled=Object(s.c)(i.autoScrollDisabled),e.connectedTo(n.filter((function(t){return t&&t!==i})).map((function(t){return t._dropListRef}))).withOrientation(i.orientation)}))}},{key:"_handleEvents",value:function(t){var e=this;t.beforeStarted.subscribe((function(){e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:e,item:t.item.data,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:e,item:t.item.data}),e._changeDetectorRef.markForCheck()})),t.sorted.subscribe((function(t){e.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:e,item:t.item.data})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),e._changeDetectorRef.markForCheck()}))}},{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._dropListRef.disabled=this._disabled=Object(s.c)(t)}}]),t}()).\u0275fac=function(t){return new(t||ht)(n.Rb(n.l),n.Rb(it),n.Rb(n.h),n.Rb(C.c,8),n.Rb(bt,12))},ht.\u0275dir=n.Mb({type:ht,selectors:[["","cdkDropList",""],["cdk-drop-list"]],contentQueries:function(t,e,i){var r;1&t&&n.Jb(i,lt,!0),2&t&&n.yc(r=n.gc())&&(e._draggables=r)},hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(n.ac("id",e.id),n.Hb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],orientation:["cdkDropListOrientation","orientation"],id:"id",sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],disabled:["cdkDropListDisabled","disabled"],data:["cdkDropListData","data"],lockAxis:["cdkDropListLockAxis","lockAxis"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[n.Cb([{provide:bt,useValue:void 0},{provide:st,useExisting:ht}])]}),ht._dropLists=[],ht),mt=((dt=function t(){_classCallCheck(this,t)}).\u0275mod=n.Pb({type:dt}),dt.\u0275inj=n.Ob({factory:function(t){return new(t||dt)},providers:[it]}),dt)},"6SKC":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("4Ait"),r=i("fXoL"),a=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return isNaN(parseFloat(String(t)))||!isFinite(t)?"-":Object(n.a)(t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Qb({name:"formattedFileSize",type:t,pure:!0}),t}()},"7LS1":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("2Vo4"),r=i("XNiG"),a=i("vUXK"),o=i("+rOU"),s=i("itxp"),c=i("ZiO8"),l=i("pLZG"),u=i("/w9p"),d=i("fXoL"),h=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.availablePreviews=e,this.injector=i,this.files=[],this.portal=new n.a(null),this.meta=new n.a({}),this.previewUriTransformer=null,this.download=new r.a}return _createClass(t,[{key:"pagination",value:function(){return this.meta.pipe(Object(l.a)((function(t){return t&&!!t.entry})))}},{key:"getCurrent",value:function(){return this.meta.value.entry}},{key:"getAllEntries",value:function(){return this.files}},{key:"getPortal",value:function(){return this.portal.asObservable()}},{key:"showNext",value:function(){this.meta.value.haveNext&&(this.updateMeta("next"),this.updatePortal())}},{key:"showPrevious",value:function(){this.meta.value.havePrevious&&(this.updateMeta("previous"),this.updatePortal())}},{key:"updateMeta",value:function(t){var e=0;if("string"==typeof t){var i=this.meta.value.pointer;e="next"===t?i+1:i-1}else"number"==typeof t&&(e=t);this.meta.next({pointer:e,entry:this.files[e],total:this.files.length,haveNext:e+1<this.files.length,havePrevious:e-1>-1})}},{key:"updatePortal",value:function(){var t=this.getCurrent();this.portal.next(new o.d(t&&this.availablePreviews[t.type]||c.a,null,this.createInjector()))}},{key:"set",value:function(t,e){t&&0!==t.length&&(this.files=t.filter((function(t){return"folder"!==t.type})),this.updateMeta(e),this.updatePortal())}},{key:"createInjector",value:function(){var t=new WeakMap;return t.set(s.a,this.getCurrent()),this.previewUriTransformer&&t.set(u.a,this.previewUriTransformer),new o.g(this.injector,t)}},{key:"destroy",value:function(){this.meta.next({}),this.files=null,this.portal.next(null)}},{key:"setPreviewUriTransformer",value:function(t){this.previewUriTransformer=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.bc(a.a),d.bc(d.s))},t.\u0275prov=d.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"83jf":function(t,e,i){"use strict";var n=i("fXoL"),r=i("nPOm"),a=i("tTc1"),o=i("ZfYz"),s=i("7LS1"),c=i("kmQS"),l=i("ofXK"),u=i("bTqV"),d=i("NFeN");function h(t,e){if(1&t){var i=n.Yb();n.Xb(0,"button",3),n.fc("click",(function(t){return n.Cc(i),n.jc().closed.emit(!0)})),n.Sb(1,"mat-icon",4),n.Wb()}}function p(t,e){if(1&t){var i=n.Yb();n.Vb(0),n.Xb(1,"div",9),n.Xb(2,"button",10),n.fc("click",(function(t){return n.Cc(i),n.jc(2).previewFiles.showPrevious()})),n.Sb(3,"mat-icon",11),n.Wb(),n.Xb(4,"span",12),n.Nc(5),n.Wb(),n.Xb(6,"button",13),n.fc("click",(function(t){return n.Cc(i),n.jc(2).previewFiles.showNext()})),n.Sb(7,"mat-icon",14),n.Wb(),n.Wb(),n.Ub()}if(2&t){var r=e.ngIf;n.Db(2),n.rc("disabled",!r.havePrevious),n.Db(3),n.Qc("",r.pointer+1," of ",r.total,""),n.Db(1),n.rc("disabled",!r.haveNext)}}function b(t,e){if(1&t){var i=n.Yb();n.Vb(0),n.Xb(1,"div",5),n.Nc(2),n.Wb(),n.Lc(3,p,8,4,"ng-container",1),n.kc(4,"async"),n.Xb(5,"div",6),n.Xb(6,"button",7),n.fc("click",(function(t){return n.Cc(i),n.jc().downloadFiles()})),n.Sb(7,"mat-icon",8),n.Wb(),n.pc(8),n.Wb(),n.Ub()}if(2&t){var r=e.ngIf,a=n.jc();n.Db(2),n.Pc(" ",r.entry.name," "),n.Db(1),n.rc("ngIf",n.lc(4,3,a.previewFiles.pagination())),n.Db(3),n.rc("disabled",a.disableDownload)}}function g(t,e){if(1&t&&n.Sb(0,"img",17),2&t){var i=n.jc(2);n.rc("src",i.settings.getBaseUrl(!0)+i.settings.get("branding.logo_light"),n.Fc)}}function f(t,e){if(1&t&&(n.Xb(0,"a",15),n.Lc(1,g,1,1,"img",16),n.Wb()),2&t){var i=n.jc();n.Db(1),n.rc("ngIf",i.showLogo&&i.settings.get("branding.logo_light"))}}var m,v,y,_=["*"],k=((m=function(){function t(e,i){_classCallCheck(this,t),this.previewFiles=e,this.settings=i,this.showLogo=!1,this.disableDownload=!1,this.showCloseButton=!1,this.closed=new n.o}return _createClass(t,[{key:"downloadFiles",value:function(){this.previewFiles.download.next()}}]),t}()).\u0275fac=function(t){return new(t||m)(n.Rb(s.a),n.Rb(c.a))},m.\u0275cmp=n.Lb({type:m,selectors:[["file-preview-toolbar"]],inputs:{showLogo:"showLogo",disableDownload:"disableDownload",showCloseButton:"showCloseButton"},outputs:{closed:"closed"},ngContentSelectors:_,decls:4,vars:5,consts:[["mat-icon-button","","class","back-button",3,"click",4,"ngIf"],[4,"ngIf"],["routerLink","/drive","class","logo",4,"ngIf"],["mat-icon-button","",1,"back-button",3,"click"],["svgIcon","arrow-back"],[1,"entry-name"],[1,"actions"],["mat-icon-button","",3,"disabled","click"],["svgIcon","file-download"],[1,"navigation"],["mat-icon-button","",1,"previous",3,"disabled","click"],["svgIcon","keyboard-arrow-left"],[1,"meta"],["mat-icon-button","",1,"next",3,"disabled","click"],["svgIcon","keyboard-arrow-right"],["routerLink","/drive",1,"logo"],[3,"src",4,"ngIf"],[3,"src"]],template:function(t,e){1&t&&(n.qc(),n.Lc(0,h,2,0,"button",0),n.Lc(1,b,9,5,"ng-container",1),n.kc(2,"async"),n.Lc(3,f,2,1,"a",2)),2&t&&(n.rc("ngIf",e.showCloseButton),n.Db(1),n.rc("ngIf",n.lc(2,3,e.previewFiles.pagination())),n.Db(2),n.rc("ngIf",e.showLogo&&e.settings.has("branding.logo_light")))},directives:[l.t,u.b,d.a],pipes:[l.b],styles:["file-preview-toolbar{position:fixed;top:0;left:0;display:-webkit-box;display:flex;width:100%;-webkit-box-align:center;align-items:center;color:var(--be-accent-contrast);height:60px;padding:0 15px;background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.65)),to(transparent));background:linear-gradient(180deg,rgba(0,0,0,.65) 0,transparent);z-index:10}@media only screen and (max-width:550px){file-preview-toolbar{padding:0 5px}}file-preview-toolbar .entry-name{display:block;margin-right:25px;margin-left:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media only screen and (min-width:550px){file-preview-toolbar .entry-name{max-width:calc(50% - 77.5px)}}file-preview-toolbar .entry-name file-icon{display:inline-block;vertical-align:bottom;margin-right:5px}@media only screen and (min-width:550px){file-preview-toolbar .navigation{position:absolute;left:50%;top:50%;margin-right:-50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@media only screen and (max-width:550px){file-preview-toolbar .navigation{position:fixed;bottom:10px;left:5px}}file-preview-toolbar .actions{margin-left:auto;white-space:nowrap}file-preview-toolbar .actions a,file-preview-toolbar .actions button{margin:0 5px}file-preview-toolbar .close-button{margin-right:25px}file-preview-toolbar .logo{position:fixed;bottom:15px;right:15px;opacity:.2;width:150px;height:auto}file-preview-toolbar .logo img{width:100%;height:auto}file-preview-toolbar .mat-icon-button[disabled][disabled]{color:#737373}"],encapsulation:2,changeDetection:0}),m),C=i("ovFL"),w=["previewContainer"],x=["moreOptionsButton"],D=((y=function(){function t(e,i,n,r,a){_classCallCheck(this,t),this.el=e,this.overlayRef=i,this.previewFiles=n,this.settings=r,this.data=a,this.entries=[],this.entries=a.entries}return _createClass(t,[{key:"ngOnInit",value:function(){this.data.ticketEntry&&this.previewFiles.setPreviewUriTransformer(this.urlTransformer.bind(this))}},{key:"ngAfterViewInit",value:function(){var t=this;this.bindToDownload(),this.previewContainer.nativeElement.addEventListener("click",(function(e){e.target.closest(".preview-object")||t.overlayRef.close()}))}},{key:"ngOnDestroy",value:function(){this.downloadSub.unsubscribe()}},{key:"closeOverlay",value:function(){this.overlayRef.close()}},{key:"bindToDownload",value:function(){var t=this;this.downloadSub=this.previewFiles.download.subscribe((function(){var e=t.previewFiles.getAllEntries();t.downloadFile(e)}))}},{key:"downloadFile",value:function(t){var e=t.map((function(t){return t.hash})).join(","),i="".concat(this.settings.getBaseUrl(),"secure/uploads/download?hashes=").concat(e);this.data.ticketEntry&&(i+="&ticketEntry=true"),Object(a.a)(i)}},{key:"urlTransformer",value:function(t){return"".concat(t.url,"?ticketEntry=true")}}]),t}()).\u0275fac=function(t){return new(t||y)(n.Rb(n.l),n.Rb(o.a),n.Rb(s.a),n.Rb(c.a),n.Rb(r.a))},y.\u0275cmp=n.Lb({type:y,selectors:[["file-preview-overlay"]],viewQuery:function(t,e){var i;1&t&&(n.Jc(w,!0,n.l),n.Sc(x,!0,n.l)),2&t&&(n.yc(i=n.gc())&&(e.previewContainer=i.first),n.yc(i=n.gc())&&(e.optionsButton=i.first))},decls:3,vars:2,consts:[[3,"showCloseButton","closed"],[3,"files"],["previewContainer",""]],template:function(t,e){1&t&&(n.Xb(0,"file-preview-toolbar",0),n.fc("closed",(function(t){return e.closeOverlay()})),n.Wb(),n.Sb(1,"preview-container",1,2)),2&t&&(n.rc("showCloseButton",!0),n.Db(1),n.rc("files",e.entries))},directives:[k,C.a],styles:["[_nghost-%COMP%]{display:block;width:100vw;height:100vh;background-color:rgba(0,0,0,.9);color:var(--be-accent-contrast);overflow:auto;position:relative}preview-container[_ngcontent-%COMP%]{margin:60px 0;min-height:calc(100% - 120px)}"],changeDetection:0}),y),S=((v=function(){function t(){_classCallCheck(this,t),this.iconsMap={text:"insert-drive-file",audio:"volume-up",video:"videocam",document:"assignment",image:"image"}}return _createClass(t,[{key:"getFileType",value:function(t){return t.split("/")[0]}},{key:"getIconName",value:function(t){var e=this.getFileType(t);return this.iconsMap[e]||this.iconsMap.text}}]),t}()).\u0275fac=function(t){return new(t||v)},v.\u0275prov=n.Nb({token:v,factory:v.\u0275fac,providedIn:"root"}),v),I=i("dz5c"),R=i("h586"),O=i("6SKC");function P(t,e){if(1&t){var i=n.Yb();n.Xb(0,"button",6),n.fc("click",(function(t){n.Cc(i);var e=n.jc().$implicit;return n.jc().detachEntry(e),t.stopPropagation()})),n.Sb(1,"mat-icon",7),n.Wb()}}function X(t,e){if(1&t){var i=n.Yb();n.Xb(0,"div",1),n.fc("click",(function(t){n.Cc(i);var r=e.$implicit;return n.jc().showPreviewOverlay(r)})),n.Sb(1,"mat-icon",2),n.Xb(2,"div",3),n.Nc(3),n.Wb(),n.Xb(4,"div",4),n.Nc(5),n.kc(6,"formattedFileSize"),n.Wb(),n.Lc(7,P,2,0,"button",5),n.Wb()}if(2&t){var r=e.$implicit,a=n.jc();n.Db(1),n.rc("svgIcon",a.mime.getIconName(r.mime))("ngClass",a.mime.getIconName(r.mime)),n.Db(2),n.Oc(r.name),n.Db(2),n.Oc(n.lc(6,5,r.file_size)),n.Db(2),n.rc("ngIf",a.cancelButtonVisible)}}i.d(e,"a",(function(){return W}));var L,W=((L=function(){function t(e,i,r){_classCallCheck(this,t),this.mime=e,this.overlay=i,this.uploadQueue=r,this.cancelButtonVisible=!0,this.detached=new n.o}return _createClass(t,[{key:"detachEntry",value:function(t){var e=this.attachments.findIndex((function(e){return e.id===t.id}));e>-1&&(this.attachments.splice(e,1),this.detached.emit(t))}},{key:"showPreviewOverlay",value:function(t){this.overlay.open(D,{position:"center",origin:"global",data:{entries:[t],ticketEntry:!0}})}}]),t}()).\u0275fac=function(t){return new(t||L)(n.Rb(S),n.Rb(I.a),n.Rb(R.a))},L.\u0275cmp=n.Lb({type:L,selectors:[["reply-attachment-list"]],inputs:{attachments:"attachments",cancelButtonVisible:"cancelButtonVisible"},outputs:{detached:"detached"},decls:1,vars:1,consts:[["class","attachments-list-item",3,"click",4,"ngFor","ngForOf"],[1,"attachments-list-item",3,"click"],[1,"attachment-info","type-icon",3,"svgIcon","ngClass"],[1,"attachment-info","name"],[1,"attachment-info","size"],["class","remove-attachment","type","button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",1,"remove-attachment",3,"click"],["svgIcon","close"]],template:function(t,e){1&t&&n.Lc(0,X,8,7,"div",0),2&t&&n.rc("ngForOf",e.attachments)},directives:[l.s,d.a,l.q,l.t,u.b],pipes:[O.a],styles:["reply-attachment-list{display:-webkit-box;display:flex;flex-wrap:wrap;color:var(--be-secondary-text)}reply-attachment-list .attachments-list-item{border:1px solid var(--be-divider-default);margin:0 10px 10px 0;position:relative;height:45px;line-height:45px;border-radius:3px;-webkit-box-flex:0;flex:0 1 auto;min-width:200px;padding:0 8px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}reply-attachment-list .attachments-list-item .attachment-info{display:inline-block;vertical-align:middle}reply-attachment-list .attachments-list-item .attachment-info svg{vertical-align:top}reply-attachment-list .attachments-list-item .attachment-info.name{max-width:115px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500}reply-attachment-list .attachments-list-item .attachment-info.type-icon{margin-right:3px}reply-attachment-list .attachments-list-item .attachment-info.type-icon.image,reply-attachment-list .attachments-list-item .attachment-info.type-icon.videocam,reply-attachment-list .attachments-list-item .attachment-info.type-icon.volume-up{color:#db4437}reply-attachment-list .attachments-list-item .attachment-info.type-icon.insert-drive-file{color:#4285f4}reply-attachment-list .attachments-list-item .attachment-info.type-icon.assignment{color:#0f9d58}reply-attachment-list .attachments-list-item .size{font-size:1.1rem;margin:0 10px 0 5px}"],encapsulation:2,changeDetection:0}),L)},A5z7:function(t,e,i){"use strict";i.d(e,"a",(function(){return w})),i.d(e,"b",(function(){return X})),i.d(e,"c",(function(){return O})),i.d(e,"d",(function(){return x})),i.d(e,"e",(function(){return W}));var n=i("FtGj"),r=i("fXoL"),a=i("FKr1"),o=i("8LU1"),s=i("XNiG"),c=i("VRyK"),l=i("IzEk"),u=i("1G5W"),d=i("JX91"),h=i("R1ws"),p=i("u47x"),b=i("0EQZ"),g=i("kmnG"),f=i("nLfN"),m=i("cH1L"),v=i("3Pt+"),y=["*"],_=Object(a.x)(Object(a.y)(Object(a.z)((function t(e){_classCallCheck(this,t),this._elementRef=e}))),"primary"),k=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"]}),t}(),C=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["mat-chip-trailing-icon"],["","matChipTrailingIcon",""]],hostAttrs:[1,"mat-chip-trailing-icon"]}),t}(),w=function(){var t=function(t){function e(t,i,n,o,c,l){var u;return _classCallCheck(this,e),(u=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._elementRef=t,u._ngZone=i,u._changeDetectorRef=l,u._hasFocus=!1,u.chipListSelectable=!0,u._chipListMultiple=!1,u._selected=!1,u._selectable=!0,u._removable=!0,u._onFocus=new s.a,u._onBlur=new s.a,u.selectionChange=new r.o,u.destroyed=new r.o,u.removed=new r.o,u._addHostClassName(),u._chipRipple=new a.u(_assertThisInitialized(u),i,t,n),u._chipRipple.setupTriggerEvents(t),u.rippleConfig=o||{},u._animationsDisabled="NoopAnimations"===c,u}return _inherits(e,t),_createClass(e,[{key:"_addHostClassName",value:function(){var t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}},{key:"ngOnDestroy",value:function(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}},{key:"selectViaInteraction",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}},{key:"toggleSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}},{key:"focus",value:function(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}},{key:"remove",value:function(){this.removable&&this.removed.emit({chip:this})}},{key:"_handleClick",value:function(t){this.disabled?t.preventDefault():t.stopPropagation()}},{key:"_handleKeydown",value:function(t){if(!this.disabled)switch(t.keyCode){case n.e:case n.c:this.remove(),t.preventDefault();break;case n.v:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}},{key:"_blur",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Object(l.a)(1)).subscribe((function(){t._ngZone.run((function(){t._hasFocus=!1,t._onBlur.next({chip:t})}))}))}},{key:"_dispatchSelectionChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}},{key:"_markForCheck",value:function(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}},{key:"rippleDisabled",get:function(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}},{key:"selected",get:function(){return this._selected},set:function(t){var e=Object(o.c)(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}},{key:"value",get:function(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent},set:function(t){this._value=t}},{key:"selectable",get:function(){return this._selectable&&this.chipListSelectable},set:function(t){this._selectable=Object(o.c)(t)}},{key:"removable",get:function(){return this._removable},set:function(t){this._removable=Object(o.c)(t)}},{key:"ariaSelected",get:function(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}}]),e}(_);return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.A),r.Rb(f.a),r.Rb(a.h,8),r.Rb(h.a,8),r.Rb(r.h))},t.\u0275dir=r.Mb({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,i){var n;1&t&&(r.Jb(i,k,!0),r.Jb(i,C,!0),r.Jb(i,x,!0)),2&t&&(r.yc(n=r.gc())&&(e.avatar=n.first),r.yc(n=r.gc())&&(e.trailingIcon=n.first),r.yc(n=r.gc())&&(e.removeIcon=n.first))},hostAttrs:["role","option",1,"mat-chip"],hostVars:14,hostBindings:function(t,e){1&t&&r.fc("click",(function(t){return e._handleClick(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(t){return e.focus()}))("blur",(function(t){return e._blur()})),2&t&&(r.Eb("tabindex",e.disabled?null:-1)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),r.Hb("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",selected:"selected",value:"value",selectable:"selectable",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[r.Ab]}),t}(),x=function(){var t=function(){function t(e){_classCallCheck(this,t),this._parentChip=e}return _createClass(t,[{key:"_handleClick",value:function(t){var e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Rb(w))},t.\u0275dir=r.Mb({type:t,selectors:[["","matChipRemove",""]],hostAttrs:["type","button",1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&r.fc("click",(function(t){return e._handleClick(t)}))}}),t}(),D=new r.r("mat-chips-default-options"),S=Object(a.A)((function t(e,i,n,r){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=i,this._parentFormGroup=n,this.ngControl=r})),I=0,R=function t(e,i){_classCallCheck(this,t),this.source=e,this.value=i},O=function(){var t=function(t){function e(t,i,n,a,o,c,l){var u;return _classCallCheck(this,e),(u=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,c,a,o,l)))._elementRef=t,u._changeDetectorRef=i,u._dir=n,u.ngControl=l,u.controlType="mat-chip-list",u._lastDestroyedChipIndex=null,u._destroyed=new s.a,u._uid="mat-chip-list-".concat(I++),u._tabIndex=0,u._userTabIndex=null,u._onTouched=function(){},u._onChange=function(){},u._multiple=!1,u._compareWith=function(t,e){return t===e},u._required=!1,u._disabled=!1,u.ariaOrientation="horizontal",u._selectable=!0,u.change=new r.o,u.valueChange=new r.o,u.ngControl&&(u.ngControl.valueAccessor=_assertThisInitialized(u)),u}return _inherits(e,t),_createClass(e,[{key:"ngAfterContentInit",value:function(){var t=this;this._keyManager=new p.g(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Object(u.a)(this._destroyed)).subscribe((function(e){return t._keyManager.withHorizontalOrientation(e)})),this._keyManager.tabOut.pipe(Object(u.a)(this._destroyed)).subscribe((function(){t._allowFocusEscape()})),this.chips.changes.pipe(Object(d.a)(null),Object(u.a)(this._destroyed)).subscribe((function(){t.disabled&&Promise.resolve().then((function(){t._syncChipsState()})),t._resetChips(),t._initializeSelection(),t._updateTabIndex(),t._updateFocusForDestroyedChips(),t.stateChanges.next()}))}},{key:"ngOnInit",value:function(){this._selectionModel=new b.c(this.multiple,void 0,!1),this.stateChanges.next()}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}},{key:"registerInput",value:function(t){this._chipInput=t}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"writeValue",value:function(t){this.chips&&this._setSelectionByValue(t,!1)}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this.stateChanges.next()}},{key:"onContainerClick",value:function(t){this._originatesFromChip(t)||this.focus()}},{key:"focus",value:function(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}},{key:"_focusInput",value:function(t){this._chipInput&&this._chipInput.focus(t)}},{key:"_keydown",value:function(t){var e=t.target;t.keyCode===n.c&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(t.keyCode===n.j?(this._keyManager.setFirstItemActive(),t.preventDefault()):t.keyCode===n.g?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}},{key:"_updateTabIndex",value:function(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}},{key:"_updateFocusForDestroyedChips",value:function(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){var t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}},{key:"_isValidIndex",value:function(t){return t>=0&&t<this.chips.length}},{key:"_isInputEmpty",value:function(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}},{key:"_setSelectionByValue",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._clearSelection(),this.chips.forEach((function(t){return t.deselect()})),Array.isArray(t))t.forEach((function(t){return e._selectValue(t,i)})),this._sortValues();else{var n=this._selectValue(t,i);n&&i&&this._keyManager.setActiveItem(n)}}},{key:"_selectValue",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.chips.find((function(i){return null!=i.value&&e._compareWith(i.value,t)}));return n&&(i?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}},{key:"_initializeSelection",value:function(){var t=this;Promise.resolve().then((function(){(t.ngControl||t._value)&&(t._setSelectionByValue(t.ngControl?t.ngControl.value:t._value,!1),t.stateChanges.next())}))}},{key:"_clearSelection",value:function(t){this._selectionModel.clear(),this.chips.forEach((function(e){e!==t&&e.deselect()})),this.stateChanges.next()}},{key:"_sortValues",value:function(){var t=this;this._multiple&&(this._selectionModel.clear(),this.chips.forEach((function(e){e.selected&&t._selectionModel.select(e)})),this.stateChanges.next())}},{key:"_propagateChanges",value:function(t){var e;e=Array.isArray(this.selected)?this.selected.map((function(t){return t.value})):this.selected?this.selected.value:t,this._value=e,this.change.emit(new R(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}},{key:"_blur",value:function(){var t=this;this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout((function(){t.focused||t._markAsTouched()})):this._markAsTouched())}},{key:"_markAsTouched",value:function(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_allowFocusEscape",value:function(){var t=this;-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout((function(){t._tabIndex=t._userTabIndex||0,t._changeDetectorRef.markForCheck()})))}},{key:"_resetChips",value:function(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}},{key:"_dropSubscriptions",value:function(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}},{key:"_listenToChipsSelection",value:function(){var t=this;this._chipSelectionSubscription=this.chipSelectionChanges.subscribe((function(e){e.source.selected?t._selectionModel.select(e.source):t._selectionModel.deselect(e.source),t.multiple||t.chips.forEach((function(e){!t._selectionModel.isSelected(e)&&e.selected&&e.deselect()})),e.isUserInput&&t._propagateChanges()}))}},{key:"_listenToChipsFocus",value:function(){var t=this;this._chipFocusSubscription=this.chipFocusChanges.subscribe((function(e){var i=t.chips.toArray().indexOf(e.chip);t._isValidIndex(i)&&t._keyManager.updateActiveItem(i),t.stateChanges.next()})),this._chipBlurSubscription=this.chipBlurChanges.subscribe((function(){t._blur(),t.stateChanges.next()}))}},{key:"_listenToChipsRemoved",value:function(){var t=this;this._chipRemoveSubscription=this.chipRemoveChanges.subscribe((function(e){var i=e.chip,n=t.chips.toArray().indexOf(e.chip);t._isValidIndex(n)&&i._hasFocus&&(t._lastDestroyedChipIndex=n)}))}},{key:"_originatesFromChip",value:function(t){for(var e=t.target;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}},{key:"_hasFocusedChip",value:function(){return this.chips.some((function(t){return t._hasFocus}))}},{key:"_syncChipsState",value:function(){var t=this;this.chips&&this.chips.forEach((function(e){e.disabled=t._disabled,e._chipListMultiple=t.multiple}))}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"role",get:function(){return this.empty?null:"listbox"}},{key:"multiple",get:function(){return this._multiple},set:function(t){this._multiple=Object(o.c)(t),this._syncChipsState()}},{key:"compareWith",get:function(){return this._compareWith},set:function(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(t){this.writeValue(t),this._value=t}},{key:"id",get:function(){return this._chipInput?this._chipInput.id:this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(o.c)(t),this.stateChanges.next()}},{key:"placeholder",get:function(){return this._chipInput?this._chipInput.placeholder:this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()}},{key:"focused",get:function(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}},{key:"empty",get:function(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}},{key:"shouldLabelFloat",get:function(){return!this.empty||this.focused}},{key:"disabled",get:function(){return this.ngControl?!!this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Object(o.c)(t),this._syncChipsState()}},{key:"selectable",get:function(){return this._selectable},set:function(t){var e=this;this._selectable=Object(o.c)(t),this.chips&&this.chips.forEach((function(t){return t.chipListSelectable=e._selectable}))}},{key:"tabIndex",set:function(t){this._userTabIndex=t,this._tabIndex=t}},{key:"chipSelectionChanges",get:function(){return Object(c.a).apply(void 0,_toConsumableArray(this.chips.map((function(t){return t.selectionChange}))))}},{key:"chipFocusChanges",get:function(){return Object(c.a).apply(void 0,_toConsumableArray(this.chips.map((function(t){return t._onFocus}))))}},{key:"chipBlurChanges",get:function(){return Object(c.a).apply(void 0,_toConsumableArray(this.chips.map((function(t){return t._onBlur}))))}},{key:"chipRemoveChanges",get:function(){return Object(c.a).apply(void 0,_toConsumableArray(this.chips.map((function(t){return t.destroyed}))))}}]),e}(S);return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(m.c,8),r.Rb(v.v,8),r.Rb(v.l,8),r.Rb(a.d),r.Rb(v.s,10))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,i){var n;1&t&&r.Jb(i,w,!0),2&t&&r.yc(n=r.gc())&&(e.chips=n)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&r.fc("focus",(function(t){return e.focus()}))("blur",(function(t){return e._blur()}))("keydown",(function(t){return e._keydown(t)})),2&t&&(r.ac("id",e._uid),r.Eb("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),r.Hb("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[r.Cb([{provide:g.b,useExisting:t}]),r.Ab],ngContentSelectors:y,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(r.qc(),r.Xb(0,"div",0),r.pc(1),r.Wb())},styles:['.mat-chip{position:relative;overflow:hidden;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t}(),P=0,X=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this._elementRef=e,this._defaultOptions=i,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new r.o,this.placeholder="",this.id="mat-chip-list-input-".concat(P++),this._disabled=!1,this._inputElement=this._elementRef.nativeElement}return _createClass(t,[{key:"ngOnChanges",value:function(){this._chipList.stateChanges.next()}},{key:"_keydown",value:function(t){t&&t.keyCode===n.x&&!Object(n.B)(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}},{key:"_blur",value:function(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}},{key:"_focus",value:function(){this.focused=!0,this._chipList.stateChanges.next()}},{key:"_emitChipEnd",value:function(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}},{key:"_onInput",value:function(){this._chipList.stateChanges.next()}},{key:"focus",value:function(t){this._inputElement.focus(t)}},{key:"_isSeparatorKey",value:function(t){if(Object(n.B)(t))return!1;var e=this.separatorKeyCodes,i=t.keyCode;return Array.isArray(e)?e.indexOf(i)>-1:e.has(i)}},{key:"chipList",set:function(t){t&&(this._chipList=t,this._chipList.registerInput(this))}},{key:"addOnBlur",get:function(){return this._addOnBlur},set:function(t){this._addOnBlur=Object(o.c)(t)}},{key:"disabled",get:function(){return this._disabled||this._chipList&&this._chipList.disabled},set:function(t){this._disabled=Object(o.c)(t)}},{key:"empty",get:function(){return!this._inputElement.value}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(D))},t.\u0275dir=r.Mb({type:t,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,e){1&t&&r.fc("keydown",(function(t){return e._keydown(t)}))("blur",(function(t){return e._blur()}))("focus",(function(t){return e._focus()}))("input",(function(t){return e._onInput()})),2&t&&(r.ac("id",e.id),r.Eb("disabled",e.disabled||null)("placeholder",e.placeholder||null)("aria-invalid",e._chipList&&e._chipList.ngControl?e._chipList.ngControl.invalid:null)("aria-required",e._chipList&&e._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[r.Bb()]}),t}(),L={separatorKeyCodes:[n.h]},W=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[a.d,{provide:D,useValue:L}]}),t}()},"Bf/s":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("ofXK"),r=i("vUXK"),a=i("+rOU"),o=i("bTqV"),s=i("X3pI"),c=i("dz5c"),l=i("7LS1"),u=i("fXoL"),d=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=u.Pb({type:t}),t.\u0275inj=u.Ob({factory:function(e){return new(e||t)},providers:[c.a,l.a,{provide:r.a,useClass:r.b}],imports:[[n.c,a.h,o.c,s.a]]}),t}()},GSRO:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("ofXK"),r=i("bTqV"),a=i("NFeN"),o=i("bv9b"),s=i("fXoL"),c=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=s.Pb({type:t}),t.\u0275inj=s.Ob({factory:function(e){return new(e||t)},imports:[[n.c,r.c,o.b,a.b]]}),t}()},IgbF:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("fXoL"),r=i("sPnx"),a=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e,this.baseUri="tags"}return _createClass(t,[{key:"getTags",value:function(t){return this.http.getWithCache(this.baseUri,t)}},{key:"createNew",value:function(t){return this.http.post(this.baseUri,t)}},{key:"update",value:function(t,e){return this.http.put(this.baseUri+"/"+t,e)}},{key:"deleteMultiple",value:function(t){return this.http.delete(this.baseUri+"/delete-multiple",{ids:t})}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=Object.assign({query:t,notType:"status",perPage:10},e),this.http.get(this.baseUri,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.bc(r.a))},t.\u0275prov=n.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},JZOH:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("ofXK"),r=i("bTqV"),a=i("NFeN"),o=i("k3xQ"),s=i("Bf/s"),c=i("fXoL"),l=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)},imports:[[n.c,s.a,r.c,a.b,o.a]]}),t}()},KKQg:function(t,e,i){"use strict";var n,r,a=i("mrSG"),o=i("fXoL"),s=i("Lm4C"),c=i("h586"),l=i("QeDF"),u=i("JYI4"),d=i("WmcL"),h=i("3Pt+"),p=i("Kj3r"),b=i("W5HX"),g=i("kmQS"),f=i("5o4b"),m=i("OnlV"),v=i("VaLf"),y=((n=function(){function t(e,i,n,r,a){_classCallCheck(this,t),this.settings=e,this.zone=i,this.lazyLoader=n,this.breakpoints=r,this.i18n=a,this.makeBootstrapPromise()}return _createClass(t,[{key:"reset",value:function(){this.editorIsReady()&&(this.tinymceInstance.setContent(""),this.tinymceInstance.undoManager.clear())}},{key:"focus",value:function(){var t=this;this.waitForEditor().then((function(){t.tinymceInstance.focus(!1)}))}},{key:"hasUndo",value:function(){return this.editorIsReady()&&this.tinymceInstance.undoManager.hasUndo()}},{key:"hasRedo",value:function(){return this.editorIsReady()&&this.tinymceInstance.undoManager.hasRedo()}},{key:"queryCommandState",value:function(t){return this.editorIsReady()&&this.tinymceInstance.queryCommandState(t)}},{key:"execCommand",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.waitForEditor().then((function(){e.zone.run((function(){e.tinymceInstance.execCommand(t,!1,i)}))}))}},{key:"getContents",value:function(t){return this.editorIsReady()?this.tinymceInstance.getContent(t):""}},{key:"setContents",value:function(t){var e=this;this.waitForEditor().then((function(){e.tinymceInstance.undoManager&&(e.tinymceInstance.undoManager.transact((function(){e.tinymceInstance.setContent(t)})),e.tinymceInstance.selection.setCursorLocation(),e.tinymceInstance.nodeChanged(),e.tinymceInstance.execCommand("mceResize"))}))}},{key:"insertContents",value:function(t){var e=this;this.waitForEditor().then((function(){e.tinymceInstance.execCommand("mceInsertContent",!1,t),setTimeout((function(){return e.tinymceInstance.selection.collapse()}))}))}},{key:"insertImage",value:function(t){var e=this;this.waitForEditor().then((function(){e.insertContents('<img src="'+t+'"/>'),setTimeout((function(){return e.execCommand("mceAutoResize")}),500)}))}},{key:"waitForEditor",value:function(){var t=this;return this.tinymceInstance?new Promise((function(e){return e(t.tinymceInstance)})):this.bootstrapPromise?this.bootstrapPromise:void 0}},{key:"setConfig",value:function(t){var e=this;this.config=t,this.loadTinymce().then((function(){e.initTinymce()}))}},{key:"editorIsReady",value:function(){return!this.bootstrapPromise&&!!this.tinymceInstance&&!!this.tinymceInstance.undoManager}},{key:"loadTinymce",value:function(){return this.lazyLoader.loadAsset("js/tinymce/tinymce.min.js",{type:"js"})}},{key:"initTinymce",value:function(){var t=this,e={target:this.config.textAreaEl.nativeElement,plugins:["link","codesample","paste","autoresize"],branding:!1,browser_spellcheck:!0,max_height:this.config.maxHeight,min_height:this.config.minHeight,autoresize_on_init:!1,paste_as_text:!0,elementpath:!1,statusbar:!1,menubar:!1,convert_urls:!1,forced_root_block:!1,element_format:"html",body_class:"editor-body",content_style:'html {font-size: 62.5%;}\n.editor-body {font-size: 1.4rem;font-family: "Roboto", "Helvetica Neue", sans-serif;color: rgba(0, 0, 0, .87);}\nimg {max-width: 100%}\ncode[class*=language-], pre[class*=language-] {font-size: inherit;}',content_css:["https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic"],default_link_target:"_blank",link_assume_external_targets:!0,target_list:!1,link_title:!1,image_dimensions:!1,image_description:!1,setup:function(e){t.tinymceInstance=e,e.on("change",(function(){return t.config.onChange.emit(e.getContent())})),e.on("click",(function(){t.zone.run((function(){}))})),e.shortcuts.add("ctrl+13","desc",(function(){t.zone.run((function(){t.config.onChange.emit(e.getContent()),t.config.onCtrlEnter.emit()}))}))},init_instance_callback:function(){t.bootstrapPromise=!1,t.bootstrapPromiseResolve(t.tinymceInstance)}};if(this.breakpoints.isMobile$.value||(e.toolbar=!1),this.config.showAdvancedControls&&(e.plugins=e.plugins.concat(["media","hr","visualblocks","visualchars","wordcount"]),e.forced_root_block="p",e.statusbar=!0,e.autoresize_on_init=!0,e.extended_valid_elements="svg[*],use[*],iframe[src],script[src]",e.elementpath=!0,e.content_css.push(this.settings.getAssetUrl()+"css/advanced-editor-styles.css"),e.target_list=[{title:this.i18n.t("Current window"),value:""},{title:this.i18n.t("New Window"),value:"_blank"}]),"auto"===this.config.minHeight){var i=this.config.editorEl.nativeElement.parentElement.offsetHeight-74-4;e.min_height=i,e.max_height=i}tinymce.init(e)}},{key:"destroyEditor",value:function(){try{this.tinymceInstance&&this.tinymceInstance.remove(),this.tinymceInstance=null,this.makeBootstrapPromise()}catch(t){}}},{key:"makeBootstrapPromise",value:function(){var t=this;this.bootstrapPromise=new Promise((function(e){return t.bootstrapPromiseResolve=e}))}}]),t}()).\u0275fac=function(t){return new(t||n)(o.bc(g.a),o.bc(o.A),o.bc(f.a),o.bc(m.a),o.bc(v.a))},n.\u0275prov=o.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),_=i("twBr"),k=i("dz5c"),C=i("sJvS"),w=i("tU2R"),x=i("PCqb"),D=i("JWVf"),S=((r=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).DEFAULT_MAX_SIZE_MB=3,t}return _inherits(e,t),_createClass(e,[{key:"initValidations",value:function(){var t,e=[new w.a({maxSize:Object(x.a)(this.DEFAULT_MAX_SIZE_MB,"MB")},this.i18n),new D.a({types:["image"]},this.i18n)];(t=this.validations).push.apply(t,e)}}]),e}(C.a)).\u0275fac=function(t){return I(t||r)},r.\u0275prov=o.Nb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),I=o.Zb(S),R=i("ofXK"),O=i("Qu3c"),P=i("NFeN"),X=i("STbY"),L=i("Rd8u"),W=i("zW5C");i.d(e,"a",(function(){return B}));var E=["visualArea"],T=["sourceArea"];function M(t,e){if(1&t){var i=o.Yb();o.Xb(0,"div",3),o.Xb(1,"button",4),o.fc("click",(function(t){return o.Cc(i),o.jc().openFileUploadDialog()})),o.kc(2,"trans"),o.Sb(3,"mat-icon",19),o.Wb(),o.Wb()}2&t&&(o.Db(1),o.rc("matTooltip",o.lc(2,1,"Add Attachment")))}function A(t,e){if(1&t){var i=o.Yb();o.Xb(0,"div",3),o.Xb(1,"button",4),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("codesample")})),o.kc(2,"trans"),o.Sb(3,"mat-icon",20),o.Wb(),o.Wb()}2&t&&(o.Db(1),o.rc("matTooltip",o.lc(2,1,"Insert Code Sample")))}function j(t,e){if(1&t){var i=o.Yb();o.Xb(0,"button",23),o.fc("click",(function(t){return o.Cc(i),o.jc(2).openInsertImageModal()})),o.kc(1,"trans"),o.Sb(2,"mat-icon",24),o.Wb()}2&t&&o.rc("matTooltip",o.lc(1,1,"Insert Image"))}function N(t,e){if(1&t){var i=o.Yb();o.Xb(0,"div",3),o.Xb(1,"button",4),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("mceLink")})),o.kc(2,"trans"),o.Sb(3,"mat-icon",21),o.Wb(),o.Lc(4,j,3,3,"button",22),o.Wb()}if(2&t){var n=o.jc();o.Db(1),o.Hb("active",n.queryCommandState("link")),o.rc("matTooltip",o.lc(2,4,"Insert Link")),o.Db(3),o.rc("ngIf",n.currentUser.hasPermission("files.create"))}}function F(t,e){if(1&t){var i=o.Yb();o.Xb(0,"div",1),o.Xb(1,"div",3),o.Xb(2,"button",25),o.Xb(3,"span",26),o.Nc(4,"Insert"),o.Wb(),o.Sb(5,"mat-icon",27),o.Wb(),o.Xb(6,"mat-menu",null,28),o.Xb(8,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("InsertHorizontalRule")})),o.Sb(9,"mat-icon",30),o.Xb(10,"span",26),o.Nc(11,"Horizontal Line"),o.Wb(),o.Wb(),o.Xb(12,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("mceLink")})),o.Sb(13,"mat-icon",21),o.Xb(14,"span",26),o.Nc(15,"Link"),o.Wb(),o.Wb(),o.Xb(16,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("mceMedia")})),o.Sb(17,"mat-icon",31),o.Xb(18,"span",26),o.Nc(19,"Media"),o.Wb(),o.Wb(),o.Xb(20,"div",32),o.fc("click",(function(t){return o.Cc(i),o.jc().insertInfoContainer("important")})),o.Sb(21,"mat-icon",33),o.Xb(22,"span",26),o.Nc(23,"Important"),o.Wb(),o.Wb(),o.Xb(24,"div",32),o.fc("click",(function(t){return o.Cc(i),o.jc().insertInfoContainer("warning")})),o.Sb(25,"mat-icon",34),o.Xb(26,"span",26),o.Nc(27,"Warning"),o.Wb(),o.Wb(),o.Xb(28,"div",32),o.fc("click",(function(t){return o.Cc(i),o.jc().insertInfoContainer("note")})),o.Sb(29,"mat-icon",35),o.Xb(30,"span",26),o.Nc(31,"Note"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(32,"div",3),o.Xb(33,"button",36),o.Xb(34,"span",26),o.Nc(35,"Format"),o.Wb(),o.Sb(36,"mat-icon",27),o.Wb(),o.Xb(37,"mat-menu",37,38),o.Xb(39,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("FormatBlock","h1")})),o.Xb(40,"div",39),o.Nc(41,"Heading 1"),o.Wb(),o.Xb(42,"div",40),o.Nc(43,"Ctrl+Alt+1"),o.Wb(),o.Wb(),o.Xb(44,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("FormatBlock","h2")})),o.Xb(45,"div",39),o.Nc(46,"Heading 2"),o.Wb(),o.Xb(47,"div",40),o.Nc(48,"Ctrl+Alt+2"),o.Wb(),o.Wb(),o.Xb(49,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("FormatBlock","h3")})),o.Xb(50,"div",39),o.Nc(51,"Heading 3"),o.Wb(),o.Xb(52,"div",40),o.Nc(53,"Ctrl+Alt+3"),o.Wb(),o.Wb(),o.Xb(54,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("strikethrough")})),o.Xb(55,"div",39),o.Nc(56,"Strikethrough"),o.Wb(),o.Xb(57,"div",40),o.Nc(58,"Alt+Shift+5"),o.Wb(),o.Wb(),o.Xb(59,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("superscript")})),o.Xb(60,"div",39),o.Nc(61,"Superscript"),o.Wb(),o.Xb(62,"div",40),o.Nc(63,"Ctrl+."),o.Wb(),o.Wb(),o.Xb(64,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("subscript")})),o.Xb(65,"div",39),o.Nc(66,"Subscript"),o.Wb(),o.Xb(67,"div",40),o.Nc(68,"Ctrl+,"),o.Wb(),o.Wb(),o.Xb(69,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("mceBlockQuote")})),o.Xb(70,"div",39),o.Nc(71,"Blockquote"),o.Wb(),o.Xb(72,"div",40),o.Nc(73,"Ctrl+Alt+B"),o.Wb(),o.Wb(),o.Xb(74,"div",29),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("FormatBlock","p")})),o.Xb(75,"div",39),o.Nc(76,"Paragraph"),o.Wb(),o.Xb(77,"div",40),o.Nc(78,"Ctrl+Alt+0"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(79,"div",3),o.Xb(80,"button",41,42),o.Xb(82,"span",26),o.Nc(83,"Color"),o.Wb(),o.Sb(84,"mat-icon",27),o.Wb(),o.Xb(85,"mat-menu",43,44),o.Xb(87,"div",45),o.fc("click",(function(t){o.Cc(i);var e=o.zc(81);return o.jc().showColorPicker("ForeColor",e)})),o.Sb(88,"mat-icon",46),o.Xb(89,"span",26),o.Nc(90,"Text Color"),o.Wb(),o.Wb(),o.Xb(91,"div",47),o.fc("click",(function(t){o.Cc(i);var e=o.zc(81);return o.jc().showColorPicker("HiliteColor",e)})),o.Sb(92,"mat-icon",48),o.Xb(93,"span",26),o.Nc(94,"Background Color"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(95,"div",3),o.Xb(96,"button",4),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("justifyLeft")})),o.kc(97,"trans"),o.Sb(98,"mat-icon",49),o.Wb(),o.Xb(99,"button",4),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("justifyCenter")})),o.kc(100,"trans"),o.Sb(101,"mat-icon",50),o.Wb(),o.Xb(102,"button",4),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("justifyRight")})),o.kc(103,"trans"),o.Sb(104,"mat-icon",51),o.Wb(),o.Wb(),o.Xb(105,"div",3),o.Xb(106,"button",4),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("Outdent")})),o.kc(107,"trans"),o.Sb(108,"mat-icon",52),o.Wb(),o.Xb(109,"button",4),o.fc("click",(function(t){return o.Cc(i),o.jc().execCommand("Indent")})),o.kc(110,"trans"),o.Sb(111,"mat-icon",53),o.Wb(),o.Wb(),o.Xb(112,"div",54),o.Xb(113,"button",55),o.fc("click",(function(t){return o.Cc(i),o.jc().showVisualEditor()})),o.Nc(114,"Visual "),o.Wb(),o.Xb(115,"button",56),o.fc("click",(function(t){return o.Cc(i),o.jc().showSourceEditor()})),o.Nc(116,"Source "),o.Wb(),o.Wb(),o.Wb()}if(2&t){var n=o.zc(7),r=o.zc(38),a=o.zc(86),s=o.jc();o.Db(2),o.rc("matMenuTriggerFor",n),o.Db(31),o.rc("matMenuTriggerFor",r),o.Db(47),o.rc("matMenuTriggerFor",a),o.Db(16),o.Hb("active",s.queryCommandState("justifyLeft")),o.rc("matTooltip",o.lc(97,18,"Align Left")),o.Db(3),o.Hb("active",s.queryCommandState("justifyCenter")),o.rc("matTooltip",o.lc(100,20,"Center")),o.Db(3),o.Hb("active",s.queryCommandState("justifyRight")),o.rc("matTooltip",o.lc(103,22,"Align Right")),o.Db(4),o.rc("matTooltip",o.lc(107,24,"Decrease Indent")),o.Db(3),o.rc("matTooltip",o.lc(110,26,"Increase Indent")),o.Db(4),o.Hb("active","visual"===s.activeEditor),o.Db(2),o.Hb("active","source"===s.activeEditor)}}var H,Y=[[["","customButtons",""]],[["","header",""]],[["","footer",""]]],z=["[customButtons]","[header]","[footer]"],B=((H=function(){function t(e,i,n,r,a,s,c,l){_classCallCheck(this,t),this.editor=e,this.currentUser=i,this.uploadQueue=n,this.settings=r,this.renderer=a,this.el=s,this.overlayPanel=c,this.imageValidator=l,this.sourceAreaControl=new h.h,this.activeEditor="visual",this.showAdvancedControls=!1,this.basic=!1,this.minHeight=183,this.maxHeight=530,this.onChange=new o.o,this.onCtrlEnter=new o.o,this.onFileUpload=new o.o}return _createClass(t,[{key:"ngAfterViewInit",value:function(){this.bootTextEditor()}},{key:"ngOnDestroy",value:function(){this.destroyEditor()}},{key:"reset",value:function(){this.editor.reset()}},{key:"focus",value:function(){this.editor.focus()}},{key:"hasUndo",value:function(){return this.editor.hasUndo()}},{key:"hasRedo",value:function(){return this.editor.hasRedo()}},{key:"queryCommandState",value:function(t){return this.editor.queryCommandState(t)}},{key:"execCommand",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.editor.execCommand(t,e)}},{key:"insertInfoContainer",value:function(t){this.insertContents('<div class="widget widget-'.concat(t,'"><div class="title">').concat(Object(d.a)(t),":</div><br></div><br>"))}},{key:"showColorPicker",value:function(t,e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,a,s=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.e(1).then(i.bind(null,"0PT2"));case 2:r=n.sent,a=r.BeColorPickerModule,this.overlayPanel.open(a.components.panel,{origin:new o.l(e),position:u.a}).valueChanged().pipe(Object(p.a)(50)).subscribe((function(e){s.execCommand(t,e)}));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"showVisualEditor",value:function(){this.editor.tinymceInstance.contentAreaContainer&&"visual"!==this.activeEditor&&(this.activeEditor="visual",this.renderer.setStyle(this.editor.tinymceInstance.contentAreaContainer,"display","block"),this.renderer.setStyle(this.sourceTextArea.nativeElement,"display","none"),this.editor.focus())}},{key:"showSourceEditor",value:function(){this.editor.tinymceInstance.contentAreaContainer&&"source"!==this.activeEditor&&(this.activeEditor="source",this.renderer.setStyle(this.sourceTextArea.nativeElement,"height",this.editor.tinymceInstance.contentAreaContainer.offsetHeight+"px"),this.renderer.setStyle(this.sourceTextArea.nativeElement,"display","block"),this.renderer.setStyle(this.editor.tinymceInstance.contentAreaContainer,"display","none"),this.sourceAreaControl.setValue(this.editor.getContents({source_view:!0})))}},{key:"openFileUploadDialog",value:function(){var t=this;Object(s.a)({multiple:!0}).then((function(e){t.onFileUpload.emit(e)}))}},{key:"openInsertImageModal",value:function(){var t=this,e={uri:b.a.Image,validator:this.imageValidator,httpParams:{diskPrefix:this.inlineUploadPrefix}};Object(s.a)({types:[l.a.image]}).then((function(i){t.uploadQueue.start(i,e).subscribe((function(e){t.insertImage(t.settings.getBaseUrl(!0)+e.fileEntry.url)}))}))}},{key:"getContents",value:function(){return this.editor.getContents()}},{key:"setContents",value:function(t){this.editor.setContents(t)}},{key:"insertContents",value:function(t){this.editor.insertContents(t)}},{key:"insertImage",value:function(t){this.editor.insertImage(t)}},{key:"insertLink",value:function(t){this.insertContents('<a href="'.concat(t.href,'" target="').concat(t.target||"self",'">').concat(t.text,"</a>"))}},{key:"destroyEditor",value:function(){this.editor.destroyEditor()}},{key:"bootTextEditor",value:function(){this.editor.setConfig({textAreaEl:this.visualTextArea,editorEl:this.el,minHeight:this.minHeight,maxHeight:this.maxHeight,onChange:this.onChange,onCtrlEnter:this.onCtrlEnter,showAdvancedControls:this.showAdvancedControls})}}]),t}()).\u0275fac=function(t){return new(t||H)(o.Rb(y),o.Rb(_.a),o.Rb(c.a),o.Rb(g.a),o.Rb(o.G),o.Rb(o.l),o.Rb(k.a),o.Rb(S))},H.\u0275cmp=o.Lb({type:H,selectors:[["text-editor"]],viewQuery:function(t,e){var i;1&t&&(o.Jc(E,!0),o.Jc(T,!0)),2&t&&(o.yc(i=o.gc())&&(e.visualTextArea=i.first),o.yc(i=o.gc())&&(e.sourceTextArea=i.first))},inputs:{showAdvancedControls:"showAdvancedControls",basic:"basic",minHeight:"minHeight",maxHeight:"maxHeight",inlineUploadPrefix:"inlineUploadPrefix"},outputs:{onChange:"onChange",onCtrlEnter:"onCtrlEnter",onFileUpload:"onFileUpload"},features:[o.Cb([c.a])],ngContentSelectors:z,decls:41,vars:47,consts:[[1,"editor-header"],[1,"toolbar-row"],["class","header-actions",4,"ngIf"],[1,"header-actions"],["type","button",1,"no-style","editor-button",3,"matTooltip","click"],["svgIcon","undo"],["svgIcon","redo"],["svgIcon","format-bold"],["svgIcon","format-italic"],["svgIcon","format-underlined"],["svgIcon","format-list-bulleted"],["svgIcon","format-list-numbered"],[1,"header-actions","last"],["svgIcon","format-clear"],["class","toolbar-row",4,"ngIf"],["rows","8",1,"source-textarea",2,"display","none",3,"formControl","blur"],["sourceArea",""],["rows","8",1,"visual-textarea"],["visualArea",""],["svgIcon","attachment"],["svgIcon","code"],["svgIcon","link"],["type","button","class","no-style editor-button image-modal-button",3,"matTooltip","click",4,"ngIf"],["type","button",1,"no-style","editor-button","image-modal-button",3,"matTooltip","click"],["svgIcon","image"],["type","button",1,"no-style","editor-button","text-button","insert-button",3,"matMenuTriggerFor"],["trans",""],["svgIcon","arrow-drop-down",1,"caret"],["insertMenu",""],["mat-menu-item","",3,"click"],["svgIcon","remove"],["svgIcon","videocam"],["mat-menu-item","","trans","",3,"click"],["svgIcon","star"],["svgIcon","warning"],["svgIcon","note"],["type","button",1,"no-style","editor-button","text-button","format-button",3,"matMenuTriggerFor"],[1,"format-menu","menu-with-alt-text"],["formatMenu",""],["trans","",1,"text"],[1,"alt-text"],["type","button",1,"no-style","editor-button","text-button","color-button",3,"matMenuTriggerFor"],["colorPickerOrigin",""],[1,"color-dropdown"],["colorMenu",""],["mat-menu-item","",1,"text-color-item",3,"click"],["svgIcon","format-color-text"],["mat-menu-item","",1,"bg-color-item",3,"click"],["svgIcon","format-color-fill"],["svgIcon","format-align-left"],["svgIcon","format-align-center"],["svgIcon","format-align-right"],["svgIcon","format-indent-decrease"],["svgIcon","format-indent-increase"],[1,"header-actions","editor-toggle-buttons"],["type","button","trans","",1,"no-style","editor-button","visual-mode-button",3,"click"],["type","button","trans","",1,"no-style","editor-button","source-mode-button",3,"click"]],template:function(t,e){1&t&&(o.qc(Y),o.Xb(0,"div",0),o.Xb(1,"div",1),o.Lc(2,M,4,3,"div",2),o.Lc(3,A,4,3,"div",2),o.Xb(4,"div",3),o.Xb(5,"button",4),o.fc("click",(function(t){return e.execCommand("undo")})),o.kc(6,"trans"),o.Sb(7,"mat-icon",5),o.Wb(),o.Xb(8,"button",4),o.fc("click",(function(t){return e.execCommand("redo")})),o.kc(9,"trans"),o.Sb(10,"mat-icon",6),o.Wb(),o.Wb(),o.Xb(11,"div",3),o.Xb(12,"button",4),o.fc("click",(function(t){return e.execCommand("bold")})),o.kc(13,"trans"),o.Sb(14,"mat-icon",7),o.Wb(),o.Xb(15,"button",4),o.fc("click",(function(t){return e.execCommand("italic")})),o.kc(16,"trans"),o.Sb(17,"mat-icon",8),o.Wb(),o.Xb(18,"button",4),o.fc("click",(function(t){return e.execCommand("underline")})),o.kc(19,"trans"),o.Sb(20,"mat-icon",9),o.Wb(),o.Wb(),o.Xb(21,"div",3),o.Xb(22,"button",4),o.fc("click",(function(t){return e.execCommand("insertunorderedlist")})),o.kc(23,"trans"),o.Sb(24,"mat-icon",10),o.Wb(),o.Xb(25,"button",4),o.fc("click",(function(t){return e.execCommand("insertorderedlist")})),o.kc(26,"trans"),o.Sb(27,"mat-icon",11),o.Wb(),o.Wb(),o.Lc(28,N,5,6,"div",2),o.pc(29),o.Xb(30,"div",12),o.Xb(31,"button",4),o.fc("click",(function(t){return e.execCommand("removeformat")})),o.kc(32,"trans"),o.Sb(33,"mat-icon",13),o.Wb(),o.Wb(),o.pc(34,1),o.Wb(),o.Lc(35,F,117,28,"div",14),o.Wb(),o.Xb(36,"textarea",15,16),o.fc("blur",(function(t){return e.setContents(e.sourceAreaControl.value)})),o.Wb(),o.Sb(38,"textarea",17,18),o.pc(40,2)),2&t&&(o.Db(2),o.rc("ngIf",e.inlineUploadPrefix&&e.currentUser.hasPermission("files.create")),o.Db(1),o.rc("ngIf",!e.basic),o.Db(2),o.Hb("disabled",!e.hasUndo()),o.rc("matTooltip",o.lc(6,31,"Undo")),o.Db(3),o.Hb("disabled",!e.hasRedo()),o.rc("matTooltip",o.lc(9,33,"Redo")),o.Db(4),o.Hb("active",e.queryCommandState("bold")),o.rc("matTooltip",o.lc(13,35,"Bold")),o.Db(3),o.Hb("active",e.queryCommandState("italic")),o.rc("matTooltip",o.lc(16,37,"Italic")),o.Db(3),o.Hb("active",e.queryCommandState("underline")),o.rc("matTooltip",o.lc(19,39,"Underline")),o.Db(4),o.Hb("active",e.queryCommandState("unorderedlist")),o.rc("matTooltip",o.lc(23,41,"Unordered List")),o.Db(3),o.Hb("active",e.queryCommandState("orderedlist")),o.rc("matTooltip",o.lc(26,43,"Ordered List")),o.Db(3),o.rc("ngIf",!e.basic),o.Db(3),o.rc("matTooltip",o.lc(32,45,"Remove Formatting")),o.Db(4),o.rc("ngIf",e.showAdvancedControls),o.Db(1),o.Kc("min-height",e.minHeight),o.rc("formControl",e.sourceAreaControl),o.Db(2),o.Kc("min-height",e.minHeight))},directives:[R.t,O.a,P.a,h.c,h.t,h.i,X.d,L.a,X.e,X.b],pipes:[W.a],styles:["[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;min-height:218px;max-height:600px;position:relative;border:1px solid var(--be-divider-default);border-radius:4px;overflow:hidden}[_nghost-%COMP%]     .editor-button{color:#788593;padding:7px;width:36px;height:36px}[_nghost-%COMP%]     .editor-button .mat-icon{height:22px;width:22px}[_nghost-%COMP%]     .editor-button .caret{display:inline-block;width:20px;height:20px;vertical-align:middle}[_nghost-%COMP%]     .editor-button.text-button{display:block;font-weight:300;font-size:1.5rem;width:auto}[_nghost-%COMP%]     .editor-button.disabled{opacity:.4}[_nghost-%COMP%]     .editor-button.active{background-color:rgba(0,0,0,.04)}[_nghost-%COMP%]     .editor-button.success{color:var(--be-accent-default)}[_nghost-%COMP%]     .editor-button:hover{background-color:rgba(0,0,0,.04)}[_nghost-%COMP%]     .editor-footer{position:relative;height:37px;flex-shrink:0;background-color:var(--be-background-alternative);border-top:1px solid var(--be-divider-default)}textarea[_ngcontent-%COMP%]{border:none;outline:none;resize:none;padding:15px}.editor-header[_ngcontent-%COMP%]{clear:both;-webkit-box-flex:0;flex:0 0 37px;background-color:var(--be-background-alternative)}.toolbar-row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:37px;border-bottom:1px solid var(--be-divider-default);overflow:hidden}  .header-actions{display:inline-block;border-right:1px solid var(--be-divider-default);height:100%;padding:0 4px}  .header-actions.right{margin-left:auto;margin-right:7px}  .header-actions.last{border-right:none}.editor-toggle-buttons[_ngcontent-%COMP%]{border-right:none;margin-left:auto;padding:0;display:-webkit-box;display:flex}.editor-toggle-buttons[_ngcontent-%COMP%]   .editor-button[_ngcontent-%COMP%]{width:auto}@media only screen and (max-width:768px){.editor-header[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),H)},XZLl:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("fXoL"),r=i("itxp"),a=i("/w9p"),o=i("kmQS"),s=i("LRXf"),c=i("jhN1"),l=i("twBr"),u=function(){var t=function(){function t(e,i,r,a,o,s){_classCallCheck(this,t),this.file=e,this.transformer=i,this.settings=r,this.http=a,this.sanitizer=o,this.currentUser=s,this.filePreviewWrapper=!0,this.download=new n.o}return _createClass(t,[{key:"getSrc",value:function(){return this.transformer(this.file)}},{key:"getSafeSrc",value:function(){return this.sanitizer.bypassSecurityTrustResourceUrl(this.getSrc())}},{key:"getContents",value:function(){return this.http.get(this.getSrc(),null,{responseType:"text"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.a),n.Rb(a.a),n.Rb(o.a),n.Rb(s.a),n.Rb(c.b),n.Rb(l.a))},t.\u0275dir=n.Mb({type:t,hostVars:2,hostBindings:function(t,e){2&t&&n.Hb("file-preview-wrapper",e.filePreviewWrapper)}}),t}()},YdAL:function(t,e,i){"use strict";function n(t){return getComputedStyle(t)}function r(t,e){for(var i in e){var n=e[i];"number"==typeof n&&(n+="px"),t.style[i]=n}return t}function a(t){var e=document.createElement("div");return e.className=t,e}var o="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function s(t,e){if(!o)throw new Error("No element matching method supported");return o.call(t,e)}function c(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function l(t,e){return Array.prototype.filter.call(t.children,(function(t){return s(t,e)}))}var u=function(t){return"ps__thumb-"+t},d=function(t){return"ps__rail-"+t},h=function(t){return"ps--active-"+t},p=function(t){return"ps--scrolling-"+t},b={x:null,y:null};function g(t,e){var i=t.element.classList,n=p(e);i.contains(n)?clearTimeout(b[e]):i.add(n)}function f(t,e){b[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(p(e))}),t.settings.scrollingThreshold)}var m=function(t){this.element=t,this.handlers={}},v={isEmpty:{configurable:!0}};m.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},m.prototype.unbind=function(t,e){var i=this;this.handlers[t]=this.handlers[t].filter((function(n){return!(!e||n===e)||(i.element.removeEventListener(t,n,!1),!1)}))},m.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},v.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(m.prototype,v);var y=function(){this.eventElements=[]};function _(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function k(t,e,i,n,r){var a;if(void 0===n&&(n=!0),void 0===r&&(r=!1),"top"===e)a=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");a=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,i,n,r){var a=i[0],o=i[1],s=i[2],c=i[3],l=i[4],u=i[5];void 0===n&&(n=!0),void 0===r&&(r=!1);var d=t.element;t.reach[c]=null,d[s]<1&&(t.reach[c]="start"),d[s]>t[a]-t[o]-1&&(t.reach[c]="end"),e&&(d.dispatchEvent(_("ps-scroll-"+c)),e<0?d.dispatchEvent(_("ps-scroll-"+l)):e>0&&d.dispatchEvent(_("ps-scroll-"+u)),n&&function(t,e){g(t,e),f(t,e)}(t,c)),t.reach[c]&&(e||r)&&d.dispatchEvent(_("ps-"+c+"-reach-"+t.reach[c]))}(t,i,a,n,r)}function C(t){return parseInt(t,10)||0}y.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new m(t),this.eventElements.push(e)),e},y.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},y.prototype.unbind=function(t,e,i){var n=this.eventElement(t);n.unbind(e,i),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},y.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},y.prototype.once=function(t,e,i){var n=this.eventElement(t);n.bind(e,(function t(r){n.unbind(e,t),i(r)}))};var w={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function x(t){var e=t.element,i=Math.floor(e.scrollTop),n=e.getBoundingClientRect();t.containerWidth=Math.ceil(n.width),t.containerHeight=Math.ceil(n.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(l(e,d("x")).forEach((function(t){return c(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(l(e,d("y")).forEach((function(t){return c(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=D(t,C(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=C((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=D(t,C(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=C(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var i={width:e.railXWidth},n=Math.floor(t.scrollTop);i.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:t.scrollLeft,e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-n:i.top=e.scrollbarXTop+n,r(e.scrollbarXRail,i);var a={top:n,height:e.railYHeight};e.isScrollbarYUsingRight?a.right=e.isRtl?e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:e.scrollbarYRight-t.scrollLeft:a.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:e.scrollbarYLeft+t.scrollLeft,r(e.scrollbarYRail,a),r(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),r(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(h("x")):(e.classList.remove(h("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(h("y")):(e.classList.remove(h("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function D(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function S(t,e){var i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],d=t.element,h=null,p=null,b=null;function m(e){e.touches&&e.touches[0]&&(e[r]=e.touches[0].pageY),d[c]=h+b*(e[r]-p),g(t,l),x(t),e.stopPropagation(),e.preventDefault()}function v(){f(t,l),t[u].classList.remove("ps--clicking"),t.event.unbind(t.ownerDocument,"mousemove",m)}function y(e,o){h=d[c],o&&e.touches&&(e[r]=e.touches[0].pageY),p=e[r],b=(t[n]-t[i])/(t[a]-t[s]),o?t.event.bind(t.ownerDocument,"touchmove",m):(t.event.bind(t.ownerDocument,"mousemove",m),t.event.once(t.ownerDocument,"mouseup",v),e.preventDefault()),t[u].classList.add("ps--clicking"),e.stopPropagation()}t.event.bind(t[o],"mousedown",(function(t){y(t)})),t.event.bind(t[o],"touchstart",(function(t){y(t,!0)}))}var I={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var i=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top;t.element.scrollTop+=(i>t.scrollbarYTop?1:-1)*t.containerHeight,x(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var i=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left;t.element.scrollLeft+=(i>t.scrollbarXLeft?1:-1)*t.containerWidth,x(t),e.stopPropagation()}))},"drag-thumb":function(t){S(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),S(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(s(e,":hover")||s(t.scrollbarX,":focus")||s(t.scrollbarY,":focus"))){var n,r=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(r){if("IFRAME"===r.tagName)r=r.contentDocument.activeElement;else for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(s(n=r,"input,[contenteditable]")||s(n,"select,[contenteditable]")||s(n,"textarea,[contenteditable]")||s(n,"button,[contenteditable]"))return}var a=0,o=0;switch(i.which){case 37:a=i.metaKey?-t.contentWidth:i.altKey?-t.containerWidth:-30;break;case 38:o=i.metaKey?t.contentHeight:i.altKey?t.containerHeight:30;break;case 39:a=i.metaKey?t.contentWidth:i.altKey?t.containerWidth:30;break;case 40:o=i.metaKey?-t.contentHeight:i.altKey?-t.containerHeight:-30;break;case 32:o=i.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:o=t.containerHeight;break;case 34:o=-t.containerHeight;break;case 36:o=t.contentHeight;break;case 35:o=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==a||t.settings.suppressScrollY&&0!==o||(e.scrollTop-=o,e.scrollLeft+=a,x(t),function(i,n){var r=Math.floor(e.scrollTop);if(0===i){if(!t.scrollbarYActive)return!1;if(0===r&&n>0||r>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var a=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===a&&i<0||a>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(a,o)&&i.preventDefault())}}))},wheel:function(t){var e=t.element;function i(i){var r=function(t){var e=t.deltaX,i=-1*t.deltaY;return void 0!==e&&void 0!==i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!=e&&i!=i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]}(i),a=r[0],o=r[1];if(!function(t,i,r){if(!w.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var a=t;a&&a!==e;){if(a.classList.contains("ps__child--consume"))return!0;var o=n(a);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(s>0&&(a.scrollTop>0&&r<0||a.scrollTop<s&&r>0))return!0}if(i&&o.overflowX.match(/(scroll|auto)/)){var c=a.scrollWidth-a.clientWidth;if(c>0&&(a.scrollLeft>0&&i<0||a.scrollLeft<c&&i>0))return!0}a=a.parentNode}return!1}(i.target,a,o)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=a*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(a?e.scrollLeft+=a*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,s=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=a*t.settings.wheelSpeed),x(t),(s=s||function(i,n){var r=Math.floor(e.scrollTop),a=0===e.scrollTop,o=r+e.offsetHeight===e.scrollHeight,s=0===e.scrollLeft,c=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(n)>Math.abs(i)?a||o:s||c)||!t.settings.wheelPropagation}(a,o))&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",i):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",i)},touch:function(t){if(w.supportsTouch||w.supportsIePointer){var e=t.element,i={},r=0,a={},o=null;w.supportsTouch?(t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",d),t.event.bind(e,"touchend",h)):w.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",d),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",d),t.event.bind(e,"MSPointerUp",h)))}function s(i,n){e.scrollTop-=n,e.scrollLeft-=i,x(t)}function c(t){return t.targetTouches?t.targetTouches[0]:t}function l(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function u(t){if(l(t)){var e=c(t);i.pageX=e.pageX,i.pageY=e.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function d(o){if(l(o)){var u=c(o),d={pageX:u.pageX,pageY:u.pageY},h=d.pageX-i.pageX,p=d.pageY-i.pageY;if(function(t,i,r){if(!e.contains(t))return!1;for(var a=t;a&&a!==e;){if(a.classList.contains("ps__child--consume"))return!0;var o=n(a);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=a.scrollHeight-a.clientHeight;if(s>0&&(a.scrollTop>0&&r<0||a.scrollTop<s&&r>0))return!0}if(i&&o.overflowX.match(/(scroll|auto)/)){var c=a.scrollWidth-a.clientWidth;if(c>0&&(a.scrollLeft>0&&i<0||a.scrollLeft<c&&i>0))return!0}a=a.parentNode}return!1}(o.target,h,p))return;s(h,p),i=d;var b=(new Date).getTime(),g=b-r;g>0&&(a.x=h/g,a.y=p/g,r=b),function(i,n){var r=Math.floor(e.scrollTop),a=e.scrollLeft,o=Math.abs(i),s=Math.abs(n);if(s>o){if(n<0&&r===t.contentHeight-t.containerHeight||n>0&&0===r)return 0===window.scrollY&&n>0&&w.isChrome}else if(o>s&&(i<0&&a===t.contentWidth-t.containerWidth||i>0&&0===a))return!0;return!0}(h,p)&&o.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval((function(){t.isInitialized?clearInterval(o):a.x||a.y?Math.abs(a.x)<.01&&Math.abs(a.y)<.01?clearInterval(o):(s(30*a.x,30*a.y),a.x*=.8,a.y*=.8):clearInterval(o)}),10))}}},R=function(t,e){var i=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var o in this.element=t,t.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[o]=e[o];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s,c,l=function(){return t.classList.add("ps--focus")},h=function(){return t.classList.remove("ps--focus")};this.isRtl="rtl"===n(t).direction,!0===this.isRtl&&t.classList.add("ps__rtl"),this.isNegativeScroll=(c=t.scrollLeft,t.scrollLeft=-1,s=t.scrollLeft<0,t.scrollLeft=c,s),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new y,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=a(d("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=a(u("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",l),this.event.bind(this.scrollbarX,"blur",h),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var p=n(this.scrollbarXRail);this.scrollbarXBottom=parseInt(p.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=C(p.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=C(p.borderLeftWidth)+C(p.borderRightWidth),r(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=C(p.marginLeft)+C(p.marginRight),r(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=a(d("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=a(u("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",l),this.event.bind(this.scrollbarY,"blur",h),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var b=n(this.scrollbarYRail);this.scrollbarYRight=parseInt(b.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=C(b.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=n(t);return C(e.width)+C(e.paddingLeft)+C(e.paddingRight)+C(e.borderLeftWidth)+C(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=C(b.borderTopWidth)+C(b.borderBottomWidth),r(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=C(b.marginTop)+C(b.marginBottom),r(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return I[t](i)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return i.onScroll(t)})),x(this)};R.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,r(this.scrollbarXRail,{display:"block"}),r(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=C(n(this.scrollbarXRail).marginLeft)+C(n(this.scrollbarXRail).marginRight),this.railYMarginHeight=C(n(this.scrollbarYRail).marginTop)+C(n(this.scrollbarYRail).marginBottom),r(this.scrollbarXRail,{display:"none"}),r(this.scrollbarYRail,{display:"none"}),x(this),k(this,"top",0,!1,!0),k(this,"left",0,!1,!0),r(this.scrollbarXRail,{display:""}),r(this.scrollbarYRail,{display:""}))},R.prototype.onScroll=function(t){this.isAlive&&(x(this),k(this,"top",this.element.scrollTop-this.lastScrollTop),k(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},R.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),c(this.scrollbarX),c(this.scrollbarY),c(this.scrollbarXRail),c(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},R.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")};var O=R,P=i("XNiG"),X=i("fXoL"),L=new X.r("SUPPORTS_NATIVE_SCROLLBAR_STYLING",{providedIn:"root",factory:function(){if(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>-1)return!1;var t=document.createElement("div");t.className="__sb-test",t.style.overflow="scroll",t.style.width="40px";var e=document.createElement("style");e.innerHTML=".__sb-test::-webkit-scrollbar { width: 0px; }",t.appendChild(e),document.body.appendChild(t);var i=40==t.scrollWidth;return document.body.removeChild(t),i}}),W=i("OnlV"),E=i("GU7r"),T=i("kmQS");i.d(e,"a",(function(){return A}));var M,A=((M=function(){function t(e,i,n,r,a,o,s){_classCallCheck(this,t),this.el=e,this.renderer=i,this.breakpoints=n,this.ngZone=r,this.mutationObserverFactory=a,this.config=o,this.supportsNativeStyling=s,this.subscriptions=[],this.minLength=100,this.suppressX=!0,this.scrollTop=0,this.native=!0,this.debouncer=new P.a}return _createClass(t,[{key:"ngAfterViewInit",value:function(){this.renderer.addClass(this.el.nativeElement,this.suppressX?"scroll-container":"scroll-container-x"),this.shouldUseNative()||(this.scrollbar=new O(this.el.nativeElement,{minScrollbarLength:this.minLength,suppressScrollX:this.suppressX,useBothWheelAxes:!this.suppressX,wheelSpeed:2}),this.native=!1,this.bindToContentChange())}},{key:"update",value:function(){this.native||this.scrollbar.update()}},{key:"setScrollTop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.el.nativeElement.scrollTop=t,this.scrollTop=this.el.nativeElement.scrollTop,this.update()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.subscriptions=[],this.native||this.scrollbar.destroy(),this.debouncer.complete(),this.observer&&this.observer.disconnect()}},{key:"shouldUseNative",value:function(){return!this.config.get("vebto.forceCustomScrollbar")&&!/Edge/.test(navigator.userAgent)&&(!!this.breakpoints.isMobile$.value||this.supportsNativeStyling)}},{key:"bindToContentChange",value:function(){var t=this;this.observer=this.ngZone.runOutsideAngular((function(){return t.mutationObserverFactory.create((function(e){t.debouncer.next(e)}))})),this.observer.observe(this.el.nativeElement,{childList:!0,subtree:!0}),this.ngZone.runOutsideAngular((function(){t.debouncer.subscribe((function(e){return t.update()}))}))}}]),t}()).\u0275fac=function(t){return new(t||M)(X.Rb(X.l),X.Rb(X.G),X.Rb(W.a),X.Rb(X.A),X.Rb(E.c),X.Rb(T.a),X.Rb(L))},M.\u0275dir=X.Mb({type:M,selectors:[["","customScrollbar",""]],inputs:{minLength:["customScrollbarMinLength","minLength"],suppressX:"suppressX"}}),M)},ZiO8:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("XZLl"),r=i("fXoL"),a=i("bTqV"),o=function(){var t=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getMessage",value:function(){return this.message||"No file preview available."}}]),e}(n.a);return t.\u0275fac=function(e){return s(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["default-preview"]],inputs:{message:"message"},features:[r.Ab],decls:5,vars:1,consts:[[1,"panel","preview-object"],["trans","",1,"message"],["mat-raised-button","","color","accent","trans","",3,"click"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Nc(2),r.Wb(),r.Xb(3,"button",2),r.fc("click",(function(t){return e.download.emit()})),r.Nc(4,"Download"),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.Oc(e.getMessage()))},directives:[a.b],styles:["[_nghost-%COMP%]{display:block;max-width:380px;max-height:150px}.panel[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;background-color:var(--be-background);color:var(--be-text);border-radius:4px;width:100%;height:100%;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.message[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:15px}.mat-raised-button[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),t}(),s=r.Zb(o)},hD7E:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("fXoL"),r=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=n.Pb({type:t}),t.\u0275inj=n.Ob({factory:function(e){return new(e||t)}}),t}()},itxp:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=new(i("fXoL").r)("CURRENT_PREVIEW_FILE")},k3xQ:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("ofXK"),r=i("fXoL"),a=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[n.c]]}),t}()},ovFL:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("fXoL"),r=i("7LS1"),a=i("ofXK"),o=i("+rOU");function s(t,e){}function c(t,e){if(1&t){var i=n.Yb();n.Vb(0),n.Lc(1,s,0,0,"ng-template",1),n.fc("attached",(function(t){return n.Cc(i),n.jc().listenForDownloadClick(t)})),n.Ub()}if(2&t){var r=e.ngIf;n.Db(1),n.rc("cdkPortalOutlet",r)}}var l=function(){var t=function(){function t(e){_classCallCheck(this,t),this.previewFiles=e}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.previewFiles.set(this.files,this.activeFile)}},{key:"ngOnDestroy",value:function(){this.previewFiles.destroy(),this.downloadSub&&this.downloadSub.unsubscribe()}},{key:"listenForDownloadClick",value:function(t){var e=this;this.downloadSub&&this.downloadSub.unsubscribe(),this.downloadSub=t.instance.download.subscribe((function(){e.previewFiles.download.next()}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["preview-container"]],inputs:{files:"files",activeFile:"activeFile"},features:[n.Bb()],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cdkPortalOutlet","attached"]],template:function(t,e){1&t&&(n.Lc(0,c,2,1,"ng-container",0),n.kc(1,"async")),2&t&&n.rc("ngIf",n.lc(1,1,e.previewFiles.getPortal()))},directives:[a.t,o.c],pipes:[a.b],styles:["[_nghost-%COMP%]{display:-webkit-box;display:flex;width:100%;min-height:100%;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:relative;overflow:hidden}  .file-preview-wrapper{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}"],changeDetection:0}),t}()},rG4v:function(t,e,i){"use strict";var n=i("eNwd"),r=i("7o/Q"),a=i("D0XW");i("l7GE"),i("ZUHj");var o={leading:!0,trailing:!1},s=function(){function t(e,i,n,r){_classCallCheck(this,t),this.duration=e,this.scheduler=i,this.leading=n,this.trailing=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler,this.leading,this.trailing))}}]),t}(),c=function(t){function e(t,i,n,r,a){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).duration=i,o.scheduler=n,o.leading=r,o.trailing=a,o._hasTrailingValue=!1,o._trailingValue=null,o}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}]),e}(r.a);function l(t){t.subscriber.clearThrottle()}var u=i("fXoL"),d=i("h586"),h=i("bv9b");i.d(e,"a",(function(){return b}));var p,b=((p=function(){function t(e,i,r){var c=this;_classCallCheck(this,t),this.el=e,this.uploadQueue=i,this.cd=r,this.hidden=!0,this.subscription=this.uploadQueue.totalProgress().pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return function(n){return n.lift(new s(t,e,i.leading,i.trailing))}}(260,n.a,{leading:!0,trailing:!0})).subscribe((function(t){c.progress=t,c.hidden=100===t||0===c.uploadQueue.count$.value.pending,c.cd.markForCheck()}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||p)(u.Rb(u.l),u.Rb(d.a),u.Rb(u.h))},p.\u0275cmp=u.Lb({type:p,selectors:[["upload-progress-bar"]],hostVars:2,hostBindings:function(t,e){2&t&&u.Hb("hidden",e.hidden)},decls:1,vars:1,consts:[["mode","determinate","color","accent",3,"value"]],template:function(t,e){1&t&&u.Sb(0,"mat-progress-bar",0),2&t&&u.rc("value",e.progress)},directives:[h.a],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),p)},"sO/H":function(t,e,i){"use strict";i.r(e);var n,r=i("ofXK"),a=i("3Pt+"),o=i("tyNb"),s=i("0IaG"),c=i("WAq7"),l=i("fXoL"),u=i("Rd8u"),d=i("bTqV"),h=i("NFeN"),p=((n=function(){function t(e,i){_classCallCheck(this,t),this.dialogRef=e,this.data=i,this.model={},this.hydrate()}return _createClass(t,[{key:"close",value:function(t){this.dialogRef.close(t)}},{key:"hydrate",value:function(){this.model.slug=this.data.article.slug,this.model.description=this.data.article.description,this.model.position=this.data.article.position}},{key:"confirm",value:function(){this.close({slug:Object(c.a)(this.model.slug),description:this.model.description,position:parseInt(this.model.position)})}}]),t}()).\u0275fac=function(t){return new(t||n)(l.Rb(s.h),l.Rb(s.a))},n.\u0275cmp=l.Lb({type:n,selectors:[["article-settings-modal"]],decls:28,vars:3,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[1,"many-inputs"],[1,"input-container"],["for","article-slug","trans",""],["type","text","id","article-slug","name","article-slug",3,"ngModel","ngModelChange"],["for","article-description","trans",""],["name","article-description","id","article-description","rows","7",3,"ngModel","ngModelChange"],["trans",""],["for","article-position","trans",""],["type","number","id","article-position","name","article-position","min","0",3,"ngModel","ngModelChange"],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",1,"submit-button"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"h2",1),l.Nc(2,"Article Settings"),l.Wb(),l.Xb(3,"button",2),l.fc("click",(function(t){return e.close()})),l.Sb(4,"mat-icon",3),l.Wb(),l.Wb(),l.Xb(5,"form",4),l.fc("ngSubmit",(function(t){return e.confirm()})),l.Xb(6,"mat-dialog-content",5),l.Xb(7,"div",6),l.Xb(8,"label",7),l.Nc(9,"Slug"),l.Wb(),l.Xb(10,"input",8),l.fc("ngModelChange",(function(t){return e.model.slug=t})),l.Wb(),l.Wb(),l.Xb(11,"div",6),l.Xb(12,"label",9),l.Nc(13,"Description"),l.Wb(),l.Xb(14,"textarea",10),l.fc("ngModelChange",(function(t){return e.model.description=t})),l.Wb(),l.Xb(15,"p",11),l.Nc(16,"This will appear when searching the help center. Excerpt from article will be used otherwise."),l.Wb(),l.Wb(),l.Xb(17,"div",6),l.Xb(18,"label",12),l.Nc(19,"Position"),l.Wb(),l.Xb(20,"input",13),l.fc("ngModelChange",(function(t){return e.model.position=t})),l.Wb(),l.Xb(21,"p",11),l.Nc(22,"Order for article on help center homepage. Lower position will be first."),l.Wb(),l.Wb(),l.Wb(),l.Xb(23,"mat-dialog-actions"),l.Xb(24,"button",14),l.fc("click",(function(t){return e.close()})),l.Nc(25,"Cancel"),l.Wb(),l.Xb(26,"button",15),l.Nc(27,"Update"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Db(10),l.rc("ngModel",e.model.slug),l.Db(4),l.rc("ngModel",e.model.description),l.Db(6),l.rc("ngModel",e.model.position))},directives:[s.i,u.a,d.b,h.a,a.u,a.v,s.f,a.c,a.t,a.w,a.z,s.c],encapsulation:2}),n);function b(t,e){if(!t||!e)return!1;e=e.toLowerCase(),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++)if(t[i].toLowerCase().indexOf(e)>-1)return!0;return!1}var g=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"filter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;if(!t)return e.slice();for(var i=[],n=0;n<e.length;n++){var r=Object.assign({},e[n]);b(e[n].name,t)?i.push(r):(r.children=r.children.filter((function(e){return b(e.name,t)})),r.children.length&&i.push(r))}return i}}]),t}(),f=i("YdAL"),m=i("Kj3r"),v=i("/uUt"),y=i("Ndfy"),_=i("ahrr"),k=i("Qu3c"),C=i("bSwM"),w=i("zW5C");function x(t,e){if(1&t){var i=l.Yb();l.Xb(0,"div",15),l.Xb(1,"mat-checkbox",13),l.fc("change",(function(t){l.Cc(i);var n=e.$implicit,r=l.jc().$implicit;return l.jc().toggle(n,r.id)})),l.Nc(2),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,r=e.index,a=l.jc().index,o=l.jc();l.Db(1),l.rc("id",a+""+r)("checked",o.categoryIsSelected(n.id)),l.Db(1),l.Oc(n.name)}}function D(t,e){if(1&t){var i=l.Yb();l.Vb(0),l.Xb(1,"div",12),l.Xb(2,"mat-checkbox",13),l.fc("change",(function(t){l.Cc(i);var n=e.$implicit;return l.jc().toggle(n)})),l.Nc(3),l.Wb(),l.Wb(),l.Lc(4,x,3,3,"div",14),l.Ub()}if(2&t){var n=e.$implicit,r=e.index,a=l.jc();l.Db(2),l.rc("id",r)("checked",a.categoryIsSelected(n.id)||a.childIsSelected(n)),l.Db(1),l.Oc(n.name),l.Db(1),l.rc("ngForOf",n.children)}}function S(t,e){1&t&&(l.Xb(0,"div",16),l.Nc(1,"No Results Found."),l.Wb())}var I,R,O=["*"],P=((I=function(){function t(e,i){_classCallCheck(this,t),this.api=e,this.storage=i,this.onChange=new l.o,this.searchQuery=new a.h,this.selectedCategories=[],this.categories=[],this.allCategories=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.bindSearchQuery(),this.selectedCategories=this.initialCategories?this.initialCategories.slice():this.storage.get("selectedCategories",[]),this.allCategories.length||this.refresh()}},{key:"getSelectedCategories",value:function(){return this.selectedCategories}},{key:"setSelectedCategories",value:function(t){t&&(this.selectedCategories=t.map((function(t){return t.id})))}},{key:"setCategories",value:function(t){this.categories=t,this.allCategories=t}},{key:"refresh",value:function(){var t=this;return new Promise((function(e){t.api.getCategories().subscribe((function(i){t.setCategories(i.categories),e()}))}))}},{key:"categoryIsSelected",value:function(t){return this.selectedCategories.indexOf(t)>-1}},{key:"childIsSelected",value:function(t){if(!t.children.length)return!1;for(var e=0;e<t.children.length;e++)if(this.categoryIsSelected(t.children[e].id))return!0}},{key:"toggle",value:function(t,e){var i=this.selectedCategories.indexOf(t.id);i>-1?this.selectedCategories.splice(i,1):this.selectedCategories.push(t.id),e&&!this.categoryIsSelected(e)&&this.selectedCategories.push(e),this.deselectChildren(t),this.storage.set("selectedCategories",this.selectedCategories),this.onChange.emit()}},{key:"deselectAll",value:function(){this.selectedCategories=[],this.storage.set("selectedCategories",[]),this.onChange.emit()}},{key:"deselectChildren",value:function(t){var e=this;t.children&&t.children.forEach((function(t){var i=e.selectedCategories.indexOf(t.id);i>-1&&e.selectedCategories.splice(i,1)}))}},{key:"getExactSelectedCategories",value:function(){var t=this;return this.selectedCategories.filter((function(e){var i=t.categories.find((function(t){return t.id===e}));return!i||!t.childIsSelected(i)}))}},{key:"bindSearchQuery",value:function(){var t=this;this.searchQuery.valueChanges.pipe(Object(m.a)(400),Object(v.a)()).subscribe((function(e){t.categories=(new g).filter(e,t.allCategories),t.scrollbar.update()}))}}]),t}()).\u0275fac=function(t){return new(t||I)(l.Rb(y.a),l.Rb(_.a))},I.\u0275cmp=l.Lb({type:I,selectors:[["categories-manager"]],viewQuery:function(t,e){var i;1&t&&l.Jc(f.a,!0),2&t&&l.yc(i=l.gc())&&(e.scrollbar=i.first)},inputs:{initialCategories:"initialCategories"},outputs:{onChange:"onChange"},ngContentSelectors:O,decls:15,vars:6,consts:[["customScrollbar","lite",1,"panel"],[1,"panel-header"],["trans",""],["mat-icon-button","",1,"clear-all-button",3,"matTooltip","click"],["svgIcon","clear-all"],[1,"panel-body"],[1,"input-container"],["type","text","id","categories-manager-search","placeholder","Search...","trans-placeholder","",3,"formControl"],["svgIcon","search"],["customScrollbar","lite",1,"categories"],[4,"ngFor","ngForOf"],["class","no-results","trans","",4,"ngIf"],[1,"category","parent-category"],[3,"id","checked","change"],["class","category child-category",4,"ngFor","ngForOf"],[1,"category","child-category"],["trans","",1,"no-results"]],template:function(t,e){1&t&&(l.qc(),l.Xb(0,"div",0),l.Xb(1,"div",1),l.Xb(2,"span",2),l.Nc(3,"Categories"),l.Wb(),l.Xb(4,"button",3),l.fc("click",(function(t){return e.deselectAll()})),l.kc(5,"trans"),l.Sb(6,"mat-icon",4),l.Wb(),l.Wb(),l.Xb(7,"div",5),l.Xb(8,"div",6),l.Sb(9,"input",7),l.Sb(10,"mat-icon",8),l.Wb(),l.Xb(11,"section",9),l.Lc(12,D,5,4,"ng-container",10),l.Lc(13,S,2,0,"div",11),l.Wb(),l.pc(14),l.Wb(),l.Wb()),2&t&&(l.Db(4),l.rc("matTooltip",l.lc(5,4,"Clear All")),l.Db(5),l.rc("formControl",e.searchQuery),l.Db(3),l.rc("ngForOf",e.categories),l.Db(1),l.rc("ngIf",!e.categories.length&&e.searchQuery.value))},directives:[f.a,u.a,d.b,k.a,h.a,a.c,a.t,a.i,r.s,r.t,C.a],pipes:[w.a],styles:["categories-manager{display:block}categories-manager .input-container{margin-bottom:10px;position:relative}categories-manager .input-container input{padding-left:33px}categories-manager .input-container .mat-icon{position:absolute;top:12px;left:7px;color:var(--be-secondary-text)}categories-manager .categories{max-height:250px;overflow:auto;padding:10px;border:1px solid var(--be-divider-default)}categories-manager .categories .category{margin-bottom:8px;overflow:hidden;text-overflow:ellipsis}categories-manager .categories .child-category{margin-left:20px}categories-manager .categories .parent-category label{font-weight:500}categories-manager .categories .no-results{font-style:italic;font-size:1.3rem}"],encapsulation:2}),I),X=i("J0Ic"),L=((R=function(){function t(e,i){_classCallCheck(this,t),this.dialogRef=e,this.data=i,this.hydrate()}return _createClass(t,[{key:"close",value:function(){this.dialogRef.close()}},{key:"hydrate",value:function(){this.article=this.data.article}}]),t}()).\u0275fac=function(t){return new(t||R)(l.Rb(s.h),l.Rb(s.a))},R.\u0275cmp=l.Lb({type:R,selectors:[["article-modal"]],decls:4,vars:1,consts:[["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],[3,"article"]],template:function(t,e){1&t&&(l.Xb(0,"mat-dialog-content"),l.Xb(1,"button",0),l.fc("click",(function(t){return e.close()})),l.Sb(2,"mat-icon",1),l.Wb(),l.Sb(3,"article",2),l.Wb()),2&t&&(l.Db(3),l.rc("article",e.article))},directives:[s.f,d.b,h.a,X.a],styles:[".article-modal-container{width:80%;height:calc(100% - 50px)}.article-modal-container .mat-dialog-container,.article-modal-container .mat-dialog-content{height:100%;max-height:100%}.article-modal-container .close-button{position:absolute;top:0;right:20px}"],encapsulation:2}),R),W=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var i in _classCallCheck(this,t),this.visibility="public",e)this[i]=e[i]},E=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var i in _classCallCheck(this,t),e)this[i]=e[i]},T=i("Lm4C"),M=i("QeDF"),A=i("h586"),j=i("IuoX"),N=i("i2dy"),F=i("1jcm");function H(t,e){1&t&&(l.Xb(0,"span",26),l.Nc(1,"Update Category"),l.Wb())}function Y(t,e){1&t&&(l.Xb(0,"span",26),l.Nc(1,"New Category"),l.Wb())}function z(t,e){if(1&t&&(l.Xb(0,"div",29),l.Nc(1),l.Wb()),2&t){var i=l.jc();l.Db(1),l.Oc(i.errors.name)}}function B(t,e){if(1&t&&(l.Xb(0,"div",30),l.Nc(1),l.Wb()),2&t){var i=l.jc();l.Db(1),l.Oc(i.errors.image)}}function V(t,e){if(1&t&&(l.Xb(0,"option",31),l.Nc(1),l.Wb()),2&t){var i=e.$implicit;l.rc("value",i.id),l.Db(1),l.Oc(i.name)}}function U(t,e){if(1&t&&(l.Xb(0,"div",32),l.Nc(1),l.Wb()),2&t){var i=l.jc();l.Db(1),l.Oc(i.errors.parent_id)}}function q(t,e){if(1&t&&(l.Xb(0,"div",33),l.Nc(1),l.Wb()),2&t){var i=l.jc();l.Db(1),l.Oc(i.errors.description)}}function Q(t,e){1&t&&(l.Xb(0,"span",26),l.Nc(1,"Update"),l.Wb())}function K(t,e){1&t&&(l.Xb(0,"span",26),l.Nc(1,"Create"),l.Wb())}var $,Z=(($=function(){function t(e,i,n,r,a,o){_classCallCheck(this,t),this.dialogRef=e,this.data=i,this.api=n,this.imageValidator=r,this.uploadQueue=a,this.toast=o,this.categories=[],this.model=new E({parent_id:null}),this.updating=!1,this.errors={},this.hydrate()}return _createClass(t,[{key:"close",value:function(t){this.dialogRef.close(t)}},{key:"confirm",value:function(){var t=this;this.api.createOrUpdateCategory(this.getPayload()).subscribe((function(e){t.toast.open(t.model.id?"Updated category.":"Created category."),t.close(e)}),(function(e){return t.errors=e.messages}))}},{key:"hydrate",value:function(){this.fetchCategories(this.data.category),this.data.category&&(this.updating=!0,this.model=this.data.category),this.data.parentId&&(this.model.parent_id=this.data.parentId)}},{key:"getPayload",value:function(){return{id:this.model.id,name:this.model.name,image:this.model.image,description:this.model.description,parent_id:this.model.parent_id||null,hidden:this.model.hidden}}},{key:"fetchCategories",value:function(t){var e=this;this.api.getCategories().subscribe((function(i){e.categories=i.categories.filter((function(e){return!t||t.id!==e.id}))}))}},{key:"openInsertImageDialog",value:function(){var t=this,e={uri:"uploads/images",httpParams:{diskPrefix:"category"},validator:this.imageValidator};Object(T.a)({types:[M.a.image],multiple:!1}).then((function(i){i&&t.uploadQueue.start(i,e).subscribe((function(e){t.model.image=e.fileEntry.url}))}))}}]),t}()).\u0275fac=function(t){return new(t||$)(l.Rb(s.h),l.Rb(s.a),l.Rb(y.a),l.Rb(j.a),l.Rb(A.a),l.Rb(N.a))},$.\u0275cmp=l.Lb({type:$,selectors:[["category-modal"]],features:[l.Cb([A.a])],decls:46,vars:18,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf"],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[1,"many-inputs"],[1,"input-container"],["for","name","trans",""],["type","text","id","name","name","name",3,"ngModel","ngModelChange"],["class","error name-error",4,"ngIf"],["for","image","trans",""],[1,"input-with-action","action-left"],["mat-flat-button","","color","accent","type","button",1,"addon",3,"matTooltip","click"],["svgIcon","file-upload"],["type","text","id","image","name","image",3,"ngModel","ngModelChange"],["class","error image-error",4,"ngIf"],["type","text","id","parent_id","name","parent_id",3,"ngModel","ngModelChange"],["trans","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["class","error parent-error",4,"ngIf"],["for","description","trans",""],["type","text","id","description","name","description","rows","4",3,"ngModel","ngModelChange"],["class","error description-error",4,"ngIf"],[1,"setting-toggle-container"],["name","hidden","id","hidden","trans","",3,"ngModel","ngModelChange"],["trans",""],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"submit-button"],[1,"error","name-error"],[1,"error","image-error"],[3,"value"],[1,"error","parent-error"],[1,"error","description-error"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"h2",1),l.Lc(2,H,2,0,"span",2),l.Lc(3,Y,2,0,"span",2),l.Wb(),l.Xb(4,"button",3),l.fc("click",(function(t){return e.close()})),l.Sb(5,"mat-icon",4),l.Wb(),l.Wb(),l.Xb(6,"form",5),l.fc("ngSubmit",(function(t){return e.confirm()})),l.Xb(7,"mat-dialog-content",6),l.Xb(8,"div",7),l.Xb(9,"label",8),l.Nc(10,"Name"),l.Wb(),l.Xb(11,"input",9),l.fc("ngModelChange",(function(t){return e.model.name=t})),l.Wb(),l.Lc(12,z,2,1,"div",10),l.Wb(),l.Xb(13,"div",7),l.Xb(14,"label",11),l.Nc(15,"Image"),l.Wb(),l.Xb(16,"div",12),l.Xb(17,"button",13),l.fc("click",(function(t){return e.openInsertImageDialog()})),l.kc(18,"trans"),l.Sb(19,"mat-icon",14),l.Wb(),l.Xb(20,"input",15),l.fc("ngModelChange",(function(t){return e.model.image=t})),l.Wb(),l.Wb(),l.Lc(21,B,2,1,"div",16),l.Wb(),l.Xb(22,"div",7),l.Xb(23,"label",8),l.Nc(24,"Parent Category"),l.Wb(),l.Xb(25,"select",17),l.fc("ngModelChange",(function(t){return e.model.parent_id=t})),l.Xb(26,"option",18),l.Nc(27,"No Parent Category"),l.Wb(),l.Lc(28,V,2,2,"option",19),l.Wb(),l.Lc(29,U,2,1,"div",20),l.Wb(),l.Xb(30,"div",7),l.Xb(31,"label",21),l.Nc(32,"Description"),l.Wb(),l.Xb(33,"textarea",22),l.fc("ngModelChange",(function(t){return e.model.description=t})),l.Wb(),l.Lc(34,q,2,1,"div",23),l.Wb(),l.Xb(35,"div",24),l.Xb(36,"mat-slide-toggle",25),l.fc("ngModelChange",(function(t){return e.model.hidden=t})),l.Nc(37,"Hidden"),l.Wb(),l.Xb(38,"p",26),l.Nc(39,"Whether this category should be displayed in help center."),l.Wb(),l.Wb(),l.Wb(),l.Xb(40,"mat-dialog-actions"),l.Xb(41,"button",27),l.fc("click",(function(t){return e.close()})),l.Nc(42,"Cancel"),l.Wb(),l.Xb(43,"button",28),l.Lc(44,Q,2,0,"span",2),l.Lc(45,K,2,0,"span",2),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Db(2),l.rc("ngIf",e.updating),l.Db(1),l.rc("ngIf",!e.updating),l.Db(8),l.rc("ngModel",e.model.name),l.Db(1),l.rc("ngIf",e.errors.name),l.Db(5),l.rc("matTooltip",l.lc(18,16,"Upload image")),l.Db(3),l.rc("ngModel",e.model.image),l.Db(1),l.rc("ngIf",e.errors.image),l.Db(4),l.rc("ngModel",e.model.parent_id),l.Db(1),l.rc("ngValue",null),l.Db(2),l.rc("ngForOf",e.categories),l.Db(1),l.rc("ngIf",e.errors.parent_id),l.Db(4),l.rc("ngModel",e.model.description),l.Db(1),l.rc("ngIf",e.errors.description),l.Db(2),l.rc("ngModel",e.model.hidden),l.Db(8),l.rc("ngIf",e.updating),l.Db(1),l.rc("ngIf",!e.updating))},directives:[s.i,r.t,d.b,h.a,a.u,a.v,s.f,u.a,a.c,a.t,a.w,k.a,a.F,a.y,a.I,r.s,F.a,s.c],pipes:[w.a],encapsulation:2}),$),G=i("KKQg"),J=i("xv5E"),tt=i("QGXG"),et=i("KHvZ"),it=i("rG4v"),nt=i("FBzJ"),rt=i("83jf");function at(t,e){1&t&&(l.Xb(0,"span",31),l.Nc(1,"Create Article"),l.Wb())}function ot(t,e){1&t&&(l.Xb(0,"span",32),l.Nc(1,"Update Article"),l.Wb())}function st(t,e){if(1&t){var i=l.Yb();l.Xb(0,"reply-attachment-list",34),l.fc("detached",(function(t){return l.Cc(i),l.jc(2).removeAttachment(t)})),l.Wb()}if(2&t){var n=l.jc(2);l.rc("attachments",n.attachments)}}function ct(t,e){if(1&t&&(l.Xb(0,"div",24),l.Xb(1,"div",25),l.Nc(2,"Attachments"),l.Wb(),l.Xb(3,"div",26),l.Lc(4,st,1,1,"reply-attachment-list",33),l.Wb(),l.Wb()),2&t){var i=l.jc();l.Db(4),l.rc("ngIf",i.attachments.length)}}var lt,ut,dt,ht=function(){return{exact:!0}},pt=((lt=function(){function t(e,i,n,r,a,o){_classCallCheck(this,t),this.modal=e,this.helpCenter=i,this.toast=n,this.route=r,this.router=a,this.uploadQueue=o,this.updating=!1,this.articleModel=new W({categories:[],draft:0}),this.attachments=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.data.subscribe((function(e){return t.hydrate(e.data)}))}},{key:"getCategories",value:function(){return this.articleModel.categories.map((function(t){return t.id}))}},{key:"saveOrUpdateArticle",value:function(){var t=this,e=this.articleModel.id?"updateArticle":"createArticle";this.updating=!0,this.helpCenter[e](this.getPayload()).subscribe((function(){t.toast.open("Article "+(t.articleModel.id?"updated.":"created.")),t.router.navigateByUrl("help-center/manage/articles")}),(function(e){var i=e.messages[Object.keys(e.messages)[0]];t.toast.open(i),t.updating=!1}))}},{key:"openPreviewModal",value:function(){this.modal.open(L,{article:this.getPayload()},{panelClass:"article-modal-container"})}},{key:"openArticleSettingsModal",value:function(){var t=this;this.modal.show(p,{article:this.articleModel}).afterClosed().subscribe((function(e){e&&(t.articleModel=Object.assign(t.articleModel,e))}))}},{key:"getPayload",value:function(){var t=Object.assign({},this.articleModel);return t.body=this.textEditor.getContents(),t.categories=this.categoriesManager.getSelectedCategories(),t.tags=this.tagsManager.getSelectedTags(),t.uploads=this.attachments.map((function(t){return t.id})),t}},{key:"hydrate",value:function(t){t.article&&(this.articleModel=t.article,this.textEditor.setContents(t.article.body),this.categoriesManager.setSelectedCategories(this.articleModel.categories),this.tagsManager.setSelectedTags(this.articleModel.tags.map((function(t){return t.name}))),this.attachments=t.article.uploads||[]),t.categories&&this.categoriesManager.setCategories(t.categories)}},{key:"openNewCategoryModal",value:function(){var t=this;this.modal.show(Z).afterClosed().subscribe((function(e){e&&t.categoriesManager.refresh().then((function(){return t.categoriesManager.toggle(e)}))}))}},{key:"uploadFiles",value:function(t){var e=this;this.uploadQueue.start(t).subscribe((function(t){e.attachments=[].concat(_toConsumableArray(e.attachments),[t.fileEntry])}))}},{key:"removeAttachment",value:function(t){for(var e=0;e<this.attachments.length;e++)this.attachments[e].id===t.id&&this.attachments.splice(e,1)}}]),t}()).\u0275fac=function(t){return new(t||lt)(l.Rb(tt.a),l.Rb(et.a),l.Rb(N.a),l.Rb(o.a),l.Rb(o.f),l.Rb(A.a))},lt.\u0275cmp=l.Lb({type:lt,selectors:[["new-article"]],viewQuery:function(t,e){var i;1&t&&(l.Jc(G.a,!0),l.Jc(P,!0),l.Jc(J.a,!0)),2&t&&(l.yc(i=l.gc())&&(e.textEditor=i.first),l.yc(i=l.gc())&&(e.categoriesManager=i.first),l.yc(i=l.gc())&&(e.tagsManager=i.first))},features:[l.Cb([A.a])],decls:42,vars:18,consts:[[1,"action-bar"],[1,"nav"],["routerLinkActive","router-link-active","trans","",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","router-link-active","trans","",1,"nav-item",3,"routerLink"],[1,"actions"],[1,"no-style","action","article-settings-action",3,"click"],["svgIcon","settings"],["id","submit",1,"no-style","publish-article-button","new-item-button",3,"click"],["class","create-article-submit","trans","",4,"ngIf"],["class","update-article-submit","trans","",4,"ngIf"],[1,"container"],[1,"middle-column"],[1,"input-container","title"],["type","text","placeholder","Title","trans-placeholder","",1,"article-title-input",3,"ngModel","ngModelChange"],[1,"article-status-input",3,"ngModel","ngModelChange"],["value","0","trans",""],["value","1","trans",""],[1,"text-editor-container"],["inlineUploadPrefix","article_images","minHeight","auto",1,"text-editor",3,"showAdvancedControls","onFileUpload"],["editorEl",""],["customScrollbar","lite",1,"right-column"],[1,"categories-panel",3,"initialCategories"],[1,"new-category-button"],["mat-flat-button","","color","accent","trans","",3,"click"],[1,"panel"],["trans","",1,"panel-header"],[1,"panel-body"],["class","panel",4,"ngIf"],[1,"preview-article-button",3,"matTooltip","click"],["svgIcon","remove-red-eye",1,"size-20"],[1,"overlay",3,"isVisible"],["trans","",1,"create-article-submit"],["trans","",1,"update-article-submit"],[3,"attachments","detached",4,"ngIf"],[3,"attachments","detached"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"div",1),l.Xb(2,"a",2),l.Nc(3,"Home"),l.Wb(),l.Xb(4,"a",3),l.Nc(5,"Categories"),l.Wb(),l.Xb(6,"a",2),l.Nc(7,"Articles"),l.Wb(),l.Wb(),l.Xb(8,"div",4),l.Xb(9,"button",5),l.fc("click",(function(t){return e.openArticleSettingsModal()})),l.Sb(10,"mat-icon",6),l.Wb(),l.Xb(11,"button",7),l.fc("click",(function(t){return e.saveOrUpdateArticle()})),l.Lc(12,at,2,0,"span",8),l.Lc(13,ot,2,0,"span",9),l.Wb(),l.Wb(),l.Wb(),l.Xb(14,"div",10),l.Xb(15,"section",11),l.Xb(16,"div",12),l.Xb(17,"input",13),l.fc("ngModelChange",(function(t){return e.articleModel.title=t})),l.Wb(),l.Xb(18,"select",14),l.fc("ngModelChange",(function(t){return e.articleModel.draft=t})),l.Xb(19,"option",15),l.Nc(20,"Published"),l.Wb(),l.Xb(21,"option",16),l.Nc(22,"Draft"),l.Wb(),l.Wb(),l.Wb(),l.Xb(23,"div",17),l.Sb(24,"upload-progress-bar"),l.Xb(25,"text-editor",18,19),l.fc("onFileUpload",(function(t){return e.uploadFiles(t)})),l.Wb(),l.Wb(),l.Wb(),l.Xb(27,"aside",20),l.Xb(28,"categories-manager",21),l.Xb(29,"div",22),l.Xb(30,"button",23),l.fc("click",(function(t){return e.openNewCategoryModal()})),l.Nc(31,"+ Add New Category"),l.Wb(),l.Wb(),l.Wb(),l.Xb(32,"div",24),l.Xb(33,"div",25),l.Nc(34,"Tags"),l.Wb(),l.Xb(35,"div",26),l.Sb(36,"tags-manager"),l.Wb(),l.Wb(),l.Lc(37,ct,5,1,"div",27),l.Wb(),l.Xb(38,"button",28),l.fc("click",(function(t){return e.openPreviewModal()})),l.kc(39,"trans"),l.Sb(40,"mat-icon",29),l.Wb(),l.Sb(41,"loading-indicator",30),l.Wb()),2&t&&(l.Db(2),l.rc("routerLink","/help-center")("routerLinkActiveOptions",l.vc(16,ht)),l.Db(2),l.rc("routerLink","/help-center/manage/categories"),l.Db(2),l.rc("routerLink","/help-center/manage/articles")("routerLinkActiveOptions",l.vc(17,ht)),l.Db(6),l.rc("ngIf",!e.articleModel.id),l.Db(1),l.rc("ngIf",e.articleModel.id),l.Db(4),l.rc("ngModel",e.articleModel.title),l.Db(1),l.rc("ngModel",e.articleModel.draft),l.Db(7),l.rc("showAdvancedControls",!0),l.Db(3),l.rc("initialCategories",e.getCategories()),l.Db(9),l.rc("ngIf",null==e.attachments?null:e.attachments.length),l.Db(1),l.rc("matTooltip",l.lc(39,14,"Preview Article")),l.Db(3),l.rc("isVisible",e.updating))},directives:[o.i,o.h,u.a,h.a,r.t,a.c,a.t,a.w,a.F,a.y,a.I,it.a,G.a,f.a,P,d.b,J.a,k.a,nt.a,rt.a],pipes:[w.a],styles:["new-article{display:block;overflow:hidden;background-color:var(--be-background-alternative)}new-article .action-bar .action{color:var(--be-secondary-text)}new-article .text-editor-container{height:calc(100% - 50px)}new-article .container{display:-webkit-box;display:flex;max-width:1300px;margin:20px auto;height:calc(100vh - 165px)}new-article .container .middle-column{-webkit-box-flex:1;flex:1 1 auto;height:100%;margin-right:20px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);background-color:var(--be-background);border:1px solid #d3d3d3;border-bottom-color:#c4c4c4;border-radius:4px;overflow:hidden}new-article .container .middle-column .title{display:-webkit-box;display:flex}new-article .container .middle-column .title .article-status-input,new-article .container .middle-column .title .article-title-input{border:none;height:50px}new-article .container .middle-column .title .article-title-input{-webkit-box-flex:1;flex:1 1 auto;font-size:2rem;padding:10px 25px}new-article .container .middle-column .title .article-status-input{-webkit-box-flex:0;flex:0 0 130px;border-left:1px solid var(--be-divider-default)}new-article .container .middle-column text-editor{max-height:none;border-left:none;border-right:none;border-bottom:none}new-article .container .middle-column text-editor .editor-footer,new-article .container .middle-column text-editor .editor-header{background-color:#fff}new-article .container .right-column{width:302px;-webkit-box-flex:0;flex:0 0 302px;overflow:auto;padding:0 2px;height:100%}new-article .container .right-column .panel{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);background-color:var(--be-background);border:1px solid #d3d3d3;border-bottom-color:#c4c4c4;border-radius:4px}new-article .container .right-column .new-category-button{margin:15px 0 5px}new-article .container .preview-article-button{width:50px;height:50px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;border-radius:50%;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);background-color:var(--be-accent-default);color:var(--be-accent-contrast);position:absolute;right:20px;bottom:20px;border:none;outline:none;cursor:pointer}new-article reply-attachment-list{display:block}new-article reply-attachment-list .attachments-list-item{width:100%}"],encapsulation:2}),lt),bt=i("cp0P"),gt=((dt=function(){function t(e,i,n){_classCallCheck(this,t),this.helpCenter=e,this.categories=i,this.router=n}return _createClass(t,[{key:"resolve",value:function(t){var e=this;return t.params.article_id?Object(bt.a)(this.categories.getCategories(),this.helpCenter.getArticle(t.params.article_id)).toPromise().then((function(t){return{categories:t[0].categories,article:t[1].article}}),(function(){return e.router.navigate(["/help-center/manage/articles"]),!1})):this.categories.getCategories().toPromise().then((function(t){return{categories:t.categories}}),(function(){return e.router.navigate(["/help-center/manage/articles"]),!1}))}}]),t}()).\u0275fac=function(t){return new(t||dt)(l.bc(et.a),l.bc(y.a),l.bc(o.f))},dt.\u0275prov=l.Nb({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt),ft=((ut=function(){function t(){_classCallCheck(this,t),this.onChange=new l.o,this.filters={draft:null}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.categoriesManager.refresh().then((function(){return t.onChange.emit()}))}},{key:"getFilters",value:function(){return Object.assign(this.filters,{categories:this.categoriesManager.getExactSelectedCategories()})}},{key:"applyFilter",value:function(t,e){this.filters[t]=e,this.onChange.emit()}},{key:"filterIsActive",value:function(t,e){return void 0!==e?this.filters[t]===e:this.filters[t]||0===this.filters[t]}}]),t}()).\u0275fac=function(t){return new(t||ut)},ut.\u0275cmp=l.Lb({type:ut,selectors:[["articles-list-filters"]],viewQuery:function(t,e){var i;1&t&&(l.Jc(J.a,!0),l.Jc(P,!0)),2&t&&(l.yc(i=l.gc())&&(e.tagsManager=i.first),l.yc(i=l.gc())&&(e.categoriesManager=i.first))},outputs:{onChange:"onChange"},decls:17,vars:6,consts:[[1,"filters-list"],[1,"article-categories-filter",3,"onChange"],[1,"panel","tags-filter"],["trans","",1,"panel-header"],[1,"panel-body"],[3,"onChange"],[1,"panel","article-type-filter"],["mat-flat-button","","color","gray","trans","",1,"filter-button","all-filter-button",3,"click"],["mat-flat-button","","color","gray","trans","",1,"filter-button","not-draft-filter-button",3,"click"],["mat-flat-button","","color","gray","trans","",1,"filter-button","draft-filter-button",3,"click"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"categories-manager",1),l.fc("onChange",(function(t){return e.applyFilter("categories",t)})),l.Wb(),l.Xb(2,"div",2),l.Xb(3,"div",3),l.Nc(4,"Tags"),l.Wb(),l.Xb(5,"div",4),l.Xb(6,"tags-manager",5),l.fc("onChange",(function(t){return e.applyFilter("tags",t)})),l.Wb(),l.Wb(),l.Wb(),l.Xb(7,"div",6),l.Xb(8,"div",3),l.Nc(9,"Article Status"),l.Wb(),l.Xb(10,"div",4),l.Xb(11,"button",7),l.fc("click",(function(t){return e.applyFilter("draft",null)})),l.Nc(12,"All"),l.Wb(),l.Xb(13,"button",8),l.fc("click",(function(t){return e.applyFilter("draft",0)})),l.Nc(14,"Published"),l.Wb(),l.Xb(15,"button",9),l.fc("click",(function(t){return e.applyFilter("draft",1)})),l.Nc(16,"Draft"),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Db(11),l.Hb("active",e.filterIsActive("draft",null)),l.Db(2),l.Hb("active",e.filterIsActive("draft",0)),l.Db(2),l.Hb("active",e.filterIsActive("draft",1)))},directives:[P,u.a,J.a,d.b],styles:["articles-list-filters{display:block;background-color:var(--be-background);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;z-index:1}articles-list-filters .filters-list{padding:15px}"],encapsulation:2}),ut),mt=i("dttk"),vt=i("/RwR"),yt=i("re4b"),_t=i("M9IT"),kt=i("CH4Q"),Ct=["scrollContainer"];function wt(t,e){if(1&t&&(l.Xb(0,"span",39),l.Nc(1),l.Wb()),2&t){var i=l.jc(2).$implicit;l.Db(1),l.Pc("",i.categories[0].parent.name," > ")}}function xt(t,e){if(1&t&&(l.Xb(0,"div",36),l.Lc(1,wt,2,1,"span",37),l.Xb(2,"span",38),l.Nc(3),l.Wb(),l.Wb()),2&t){var i=l.jc().$implicit;l.Db(1),l.rc("ngIf",null==i.categories[0]?null:i.categories[0].parent),l.Db(2),l.Oc(i.categories[0].name)}}function Dt(t,e){if(1&t&&(l.Xb(0,"span",40),l.Nc(1),l.Wb()),2&t){var i=e.$implicit;l.Db(1),l.Oc(i.name)}}function St(t,e){if(1&t){var i=l.Yb();l.Xb(0,"div",28),l.fc("click",(function(t){l.Cc(i);var n=e.$implicit;return l.jc(2).goToUpdateArticle(n.id)})),l.Xb(1,"button",29),l.fc("click",(function(t){l.Cc(i);var n=e.$implicit;return l.jc(2).maybeDeleteArticle(n),t.stopPropagation()})),l.kc(2,"trans"),l.Sb(3,"mat-icon",30),l.Wb(),l.Lc(4,xt,4,2,"div",31),l.Xb(5,"div",32),l.Nc(6),l.Wb(),l.Xb(7,"div",33),l.Nc(8),l.Wb(),l.Xb(9,"div",34),l.Lc(10,Dt,2,1,"span",35),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit;l.Hb("draft",n.draft),l.Db(1),l.rc("matTooltip",l.lc(2,7,"Delete Article")),l.Db(3),l.rc("ngIf",n.categories.length),l.Db(2),l.Oc(n.title),l.Db(2),l.Oc(n.body),l.Db(2),l.rc("ngForOf",n.tags)}}function It(t,e){1&t&&(l.Xb(0,"no-results-message"),l.Xb(1,"span",41),l.Nc(2,"Could not find any articles."),l.Wb(),l.Xb(3,"span",42),l.Nc(4,"Try to make article files less specific."),l.Wb(),l.Wb())}var Rt=function(){return[5,10,15,20]};function Ot(t,e){if(1&t){var i=l.Yb();l.Xb(0,"div",21,22),l.Xb(2,"div",23),l.Xb(3,"div"),l.Lc(4,St,11,9,"div",24),l.Wb(),l.Lc(5,It,5,0,"no-results-message",25),l.kc(6,"async"),l.Wb(),l.Sb(7,"loading-indicator",26),l.kc(8,"async"),l.Xb(9,"mat-paginator",27),l.fc("page",(function(t){return l.Cc(i),l.jc().matPaginatorPageChanged(t)})),l.Wb(),l.Wb()}if(2&t){var n=e.ngIf,r=l.jc();l.Db(3),l.Hb("grid-flex-wrapper","grid"===r.selectedLayout),l.Db(1),l.rc("ngForOf",n.data),l.Db(1),l.rc("ngIf",l.lc(6,9,r.paginator.noResults$)),l.Db(2),l.rc("isVisible",l.lc(8,11,r.paginator.loading$)),l.Db(2),l.rc("pageSize",15)("pageSizeOptions",l.vc(13,Rt))("length",n.total)("pageIndex",n.current_page-1)}}var Pt,Xt,Lt=function(){return{exact:!0}},Wt=((Pt=function(){function t(e,i,n,r){_classCallCheck(this,t),this.helpCenter=e,this.router=i,this.paginator=n,this.modal=r,this.searchQuery=new a.h,this.selectedLayout="grid"}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this;this.searchQuery.valueChanges.pipe(Object(m.a)(400),Object(v.a)()).subscribe((function(){return t.reloadArticles()}))}},{key:"goToUpdateArticle",value:function(t){this.router.navigate(["/help-center/manage/","articles",t,"edit"])}},{key:"maybeDeleteArticle",value:function(t){var e=this;this.modal.show(vt.a,{title:"Delete Article",body:"Are you sure you want to delete this article?",ok:"Delete"}).afterClosed().subscribe((function(i){i&&e.helpCenter.deleteArticles([t.id]).subscribe((function(){return e.paginator.paginate()}))}))}},{key:"setLayout",value:function(t){this.selectedLayout=t}},{key:"isLayoutActive",value:function(t){return this.selectedLayout===t}},{key:"reloadArticles",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Object.assign(Object.assign({},this.getQueryParams()),e);this.paginator.paginate(i,"help-center/articles").subscribe((function(){t.scrollContainer&&(t.scrollContainer.nativeElement.scrollTop=0)}))}},{key:"matPaginatorPageChanged",value:function(t){this.reloadArticles({page:t.pageIndex?t.pageIndex+1:void 0,perPage:t.pageSize})}},{key:"getQueryParams",value:function(){var t=this.articlesListFilters.getFilters(),e={};for(var i in t)(t[i]||0===t[i])&&(e[i]=t[i]);return this.searchQuery.value&&(e.query=this.searchQuery.value),e.orderBy=this.articlesOrder.selectedValue,e}},{key:"ngOnDestroy",value:function(){this.paginator.destroy()}}]),t}()).\u0275fac=function(t){return new(t||Pt)(l.Rb(et.a),l.Rb(o.f),l.Rb(yt.a),l.Rb(tt.a))},Pt.\u0275cmp=l.Lb({type:Pt,selectors:[["articles-list"]],viewQuery:function(t,e){var i;1&t&&(l.Jc(mt.a,!0),l.Jc(ft,!0),l.Sc(Ct,!0)),2&t&&(l.yc(i=l.gc())&&(e.articlesOrder=i.first),l.yc(i=l.gc())&&(e.articlesListFilters=i.first),l.yc(i=l.gc())&&(e.scrollContainer=i.first))},features:[l.Cb([yt.a])],decls:26,vars:13,consts:[[1,"action-bar"],[1,"nav"],["routerLinkActive","router-link-active","trans","",1,"nav-item","home-nav-item",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","router-link-active","trans","",1,"nav-item","categories-nav-item",3,"routerLink"],["routerLinkActive","router-link-active","trans","",1,"nav-item","articles-nav-item",3,"routerLink"],[1,"actions"],[1,"search-bar","input-container"],["type","text","placeholder","Search","trans-placeholder","",1,"articles-search-input",3,"formControl"],["svgIcon","search"],[1,"action-bar-action","change-layout-action"],[1,"no-style","grid-layout-button",3,"click"],["svgIcon","view-comfy"],[1,"no-style","list-layout-button",3,"click"],["svgIcon","view-list"],[1,"action-bar-action",3,"onChange"],["routerLink","new",1,"new-article-button","new-item-button"],["svgIcon","add"],["trans",""],[1,"content"],[3,"onChange"],["class","articles-list-container",4,"ngIf"],[1,"articles-list-container"],["scrollContainer",""],[1,"articles-list"],["class","articles-list-item",3,"draft","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"overlay",3,"isVisible"],[3,"pageSize","pageSizeOptions","length","pageIndex","page"],[1,"articles-list-item",3,"click"],[1,"no-style","delete-article-button",3,"matTooltip","click"],["svgIcon","delete",1,"size-20"],["class","article-categories",4,"ngIf"],[1,"article-title"],[1,"article-body"],[1,"article-tags"],["class","tag-label large",4,"ngFor","ngForOf"],[1,"article-categories"],["class","parent-category",4,"ngIf"],[1,"category"],[1,"parent-category"],[1,"tag-label","large"],["primary-text","","trans",""],["secondary-text","","trans",""]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"div",1),l.Xb(2,"a",2),l.Nc(3,"Home"),l.Wb(),l.Xb(4,"a",3),l.Nc(5,"Categories"),l.Wb(),l.Xb(6,"a",4),l.Nc(7,"Articles"),l.Wb(),l.Wb(),l.Xb(8,"div",5),l.Xb(9,"div",6),l.Sb(10,"input",7),l.Sb(11,"mat-icon",8),l.Wb(),l.Xb(12,"div",9),l.Xb(13,"button",10),l.fc("click",(function(t){return e.setLayout("grid")})),l.Sb(14,"mat-icon",11),l.Wb(),l.Xb(15,"button",12),l.fc("click",(function(t){return e.setLayout("list")})),l.Sb(16,"mat-icon",13),l.Wb(),l.Wb(),l.Xb(17,"articles-order-select",14),l.fc("onChange",(function(t){return e.reloadArticles()})),l.Wb(),l.Xb(18,"a",15),l.Sb(19,"mat-icon",16),l.Xb(20,"span",17),l.Nc(21,"Create New Article"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(22,"div",18),l.Xb(23,"articles-list-filters",19),l.fc("onChange",(function(t){return e.reloadArticles()})),l.Wb(),l.Lc(24,Ot,10,14,"div",20),l.kc(25,"async"),l.Wb()),2&t&&(l.Db(2),l.rc("routerLink","/help-center")("routerLinkActiveOptions",l.vc(12,Lt)),l.Db(2),l.rc("routerLink","/help-center/manage/categories"),l.Db(2),l.rc("routerLink","/help-center/manage/articles"),l.Db(4),l.rc("formControl",e.searchQuery),l.Db(3),l.Hb("active",e.isLayoutActive("grid")),l.Db(2),l.Hb("active",e.isLayoutActive("list")),l.Db(9),l.rc("ngIf",l.lc(25,10,e.paginator.pagination$)))},directives:[o.i,o.h,u.a,a.c,a.t,a.i,h.a,mt.a,ft,r.t,r.s,nt.a,_t.a,k.a,kt.a],pipes:[r.b,w.a],styles:["[_nghost-%COMP%]{display:block;max-height:calc(100vh - 70px);overflow:hidden;background-color:var(--be-background-alternative)}.content[_ngcontent-%COMP%]{display:-webkit-box;display:flex}articles-list-filters[_ngcontent-%COMP%]{display:block;height:calc(100vh - 125px);overflow:auto;-webkit-box-flex:0;flex:0 0 302px;min-width:0}no-results-message[_ngcontent-%COMP%]{margin-top:50px}.articles-list-container[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;height:calc(100vh - 120px);overflow:auto}.mat-paginator[_ngcontent-%COMP%]{border-top:1px solid var(--be-divider-default);overflow:hidden}.mat-paginator[_ngcontent-%COMP%]   .mat-paginator-page-size[_ngcontent-%COMP%]{height:100%}.mat-paginator[_ngcontent-%COMP%]   .mat-paginator-page-size-select[_ngcontent-%COMP%]{margin:0 4px}.mat-paginator[_ngcontent-%COMP%]   .mat-paginator-container[_ngcontent-%COMP%]{min-height:40px;height:40px}.articles-list[_ngcontent-%COMP%]{padding:10px;min-height:calc(100% - 57px)}.articles-list-item[_ngcontent-%COMP%]{background-color:var(--be-background);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:15px;border-radius:4px;color:var(--be-secondary-text);cursor:pointer;margin-bottom:10px;-webkit-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out;position:relative}.articles-list-item[_ngcontent-%COMP%]:hover{background-color:var(--be-accent-emphasis)}.delete-article-button[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;color:var(--be-secondary-text)}.article-categories[_ngcontent-%COMP%]{font-size:1.3rem;font-style:italic;margin-bottom:15px}.article-title[_ngcontent-%COMP%]{font-weight:500;font-size:1.9rem}.article-body[_ngcontent-%COMP%]{font-size:1.4rem;word-wrap:break-word}.article-tags[_ngcontent-%COMP%]{margin-top:15px}.article-tags[_ngcontent-%COMP%]   .tag-label[_ngcontent-%COMP%]{margin-bottom:5px}.grid-flex-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap}.grid-flex-wrapper[_ngcontent-%COMP%]   .articles-list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:calc(25% - 10px);margin:5px}@media screen and (max-width:1280px){.grid-flex-wrapper[_ngcontent-%COMP%]   .articles-list-item[_ngcontent-%COMP%]{width:calc(33.33% - 10px)}}@media screen and (max-width:1024px){.grid-flex-wrapper[_ngcontent-%COMP%]   .articles-list-item[_ngcontent-%COMP%]{width:calc(50% - 10px)}}@media screen and (max-width:768px){.grid-flex-wrapper[_ngcontent-%COMP%]   .articles-list-item[_ngcontent-%COMP%]{width:100%}}.grid-flex-wrapper[_ngcontent-%COMP%]   .article-title[_ngcontent-%COMP%]{margin-bottom:10px;font-size:2rem}.grid-flex-wrapper[_ngcontent-%COMP%]   .article-body[_ngcontent-%COMP%]{font-size:1.6rem;-webkit-box-flex:1;flex:1 1 auto}.action-bar-action[_ngcontent-%COMP%]{display:-webkit-box;display:flex;border-right:1px solid var(--be-divider-default);padding:0 20px;height:100%;width:auto}.action-bar-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.action-bar-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.action-bar-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{margin-right:5px}.action-bar-action[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:var(--be-accent-default)}.action-bar-action[_ngcontent-%COMP%]     select{height:100%;border:none}"]}),Pt),Et=i("kmQS"),Tt=i("twBr"),Mt=i("N2vX"),At=((Xt=function t(e,i){_classCallCheck(this,t),this.settings=e,this.currentUser=i}).\u0275fac=function(t){return new(t||Xt)(l.Rb(Et.a),l.Rb(Tt.a))},Xt.\u0275cmp=l.Lb({type:Xt,selectors:[["help-center-manage"]],decls:3,vars:0,consts:[["menuPosition","agent-mailbox"],[1,"body"]],template:function(t,e){1&t&&(l.Sb(0,"material-navbar",0),l.Xb(1,"div",1),l.Sb(2,"router-outlet"),l.Wb())},directives:[Mt.a,o.k],styles:["help-center-manage .navbar{box-shadow:none}help-center-manage .navbar .logo{margin-right:50px}help-center-manage .body{height:calc(100vh - 70px)}help-center-manage .action-bar{background-color:var(--be-background);height:55px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;position:relative;z-index:2}help-center-manage .action-bar .nav{-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}help-center-manage .action-bar .nav .nav-item{display:inline-block;color:var(--be-secondary-text);font-size:1.6rem;margin-left:25px;border-bottom:2px solid transparent;height:100%;line-height:55px}help-center-manage .action-bar .nav .nav-item.router-link-active{border-color:var(--be-accent-default)}help-center-manage .action-bar .actions{-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end;-webkit-box-align:center;align-items:center;margin-right:30px}help-center-manage .action-bar .actions .input-container{-webkit-box-flex:0;flex:0 0 300px;height:100%;position:relative}help-center-manage .action-bar .actions .input-container .mat-icon{position:absolute;top:16px;left:10px;color:var(--be-secondary-text)}help-center-manage .action-bar .actions .input-container input{font-size:1.7rem;padding-left:40px;border-top:none;border-bottom:none;height:100%}help-center-manage .action-bar .actions .action{width:auto}help-center-manage .action-bar .actions .new-item-button{background-color:var(--be-accent-default);color:var(--be-accent-contrast);border-radius:50px;padding:1px 20px;border:none;line-height:30px;vertical-align:middle;white-space:nowrap;margin-left:30px}help-center-manage .action-bar .actions .new-item-button .mat-icon{-webkit-transition:-webkit-transform .2s ease-in-out;transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out;vertical-align:middle}help-center-manage .action-bar .actions .new-item-button:hover mat-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}help-center-manage .panel{margin-bottom:15px;background-color:var(--be-background);border:1px solid var(--be-divider-default);border-radius:3px}help-center-manage .panel .panel-header{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:0 10px;background-color:var(--be-background-alternative);border-bottom:1px solid var(--be-divider-default);min-height:41px}help-center-manage .panel .panel-header button{margin-left:auto}help-center-manage .panel .panel-body{overflow:auto;padding:10px}help-center-manage .panel .panel-body .filter-button{min-width:75px;padding:0 5px}help-center-manage .panel .panel-body .filter-button:not(:last-of-type){margin-right:4px}help-center-manage .panel .panel-body .filter-button.active{background-color:var(--be-accent-default);color:var(--be-accent-contrast)}"],encapsulation:2}),Xt),jt=i("5+WD");function Nt(t,e){1&t&&l.Sb(0,"mat-icon",16)}function Ft(t,e){1&t&&(l.Xb(0,"span",17),l.Nc(1,"No Articles"),l.Wb())}function Ht(t,e){if(1&t&&(l.Xb(0,"span",21),l.Nc(1),l.Xb(2,"span",22),l.Nc(3,"Articles"),l.Wb(),l.Wb()),2&t){var i=l.jc(2);l.Db(1),l.Pc("",i.category.articles_count," ")}}function Yt(t,e){1&t&&(l.Xb(0,"span",23),l.Nc(1,"1 Article"),l.Wb())}function zt(t,e){if(1&t&&(l.Xb(0,"span",18),l.Lc(1,Ht,4,1,"span",19),l.Lc(2,Yt,2,0,"span",20),l.Wb()),2&t){var i=l.jc();l.Db(1),l.rc("ngIf",i.category.articles_count>1),l.Db(1),l.rc("ngIf",1==i.category.articles_count)}}function Bt(t,e){if(1&t){var i=l.Yb();l.Xb(0,"button",24),l.fc("click",(function(t){return l.Cc(i),l.jc().openCreateChildCategoryModal()})),l.kc(1,"trans"),l.Sb(2,"mat-icon",25),l.Wb()}2&t&&l.rc("matTooltip",l.lc(1,1,"Create Child Category"))}function Vt(t,e){if(1&t){var i=l.Yb();l.Xb(0,"button",26),l.fc("click",(function(t){l.Cc(i);var e=l.jc();return e.maybeDetachCategory(e.category.id)})),l.kc(1,"trans"),l.Sb(2,"mat-icon",27),l.Wb()}2&t&&l.rc("matTooltip",l.lc(1,1,"Detach Category"))}var Ut,qt=((Ut=function(){function t(e,i,n,r){_classCallCheck(this,t),this.modal=e,this.api=i,this.router=n,this.storage=r,this.onChange=new l.o}return _createClass(t,[{key:"openCreateChildCategoryModal",value:function(){var t=this;this.modal.show(Z,{parentId:this.category.id}).afterClosed().subscribe((function(){return t.onChange.emit()}))}},{key:"openUpdateCategoryModal",value:function(t){var e=this;this.modal.show(Z,{category:t}).afterClosed().subscribe((function(){return e.onChange.emit()}))}},{key:"maybeDeleteCategory",value:function(t){var e=this;this.modal.show(vt.a,{title:"Delete Category",body:"Are you sure you want to delete this category?",bodyBold:"Children of this category will not be deleted.",ok:"Delete"}).afterClosed().subscribe((function(i){i&&e.api.deleteCategory(t).subscribe((function(){return e.onChange.emit()}))}))}},{key:"maybeDetachCategory",value:function(t){var e=this;this.modal.show(vt.a,{title:"Detach Category",body:"Are you sure you want to detach this category from its parent?",ok:"Detach"}).afterClosed().subscribe((function(i){i&&e.api.detachCategory(t).subscribe((function(){return e.onChange.emit()}))}))}},{key:"navigateToArticlesList",value:function(t){var e=[t.id];t.parent_id&&e.push(t.parent_id),this.storage.set("selectedCategories",e),this.router.navigate(["/help-center/manage/articles"])}}]),t}()).\u0275fac=function(t){return new(t||Ut)(l.Rb(tt.a),l.Rb(y.a),l.Rb(o.f),l.Rb(_.a))},Ut.\u0275cmp=l.Lb({type:Ut,selectors:[["category-list-item"]],inputs:{category:"category"},outputs:{onChange:"onChange"},decls:19,vars:12,consts:[[1,"category-name-container"],["cdkDragHandle","",1,"no-style","drag-handle"],["svgIcon","drag-handle"],[1,"category-name",3,"click"],["svgIcon","visibility-off","class","hidden-icon","color","warn",4,"ngIf"],[1,"info"],[1,"articles-count"],["class","no-articles","trans","",4,"ngIf"],["class","has-articles",4,"ngIf"],[1,"actions"],["mat-icon-button","",1,"update-category-button",3,"matTooltip","click"],["svgIcon","settings",1,"size-20"],["mat-icon-button","","class","new-child-category-button",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","class","detach-category-button",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"delete-category-button",3,"matTooltip","click"],["svgIcon","delete-forever",1,"size-20"],["svgIcon","visibility-off","color","warn",1,"hidden-icon"],["trans","",1,"no-articles"],[1,"has-articles"],["class","plural",4,"ngIf"],["class","singular","trans","",4,"ngIf"],[1,"plural"],["trans",""],["trans","",1,"singular"],["mat-icon-button","",1,"new-child-category-button",3,"matTooltip","click"],["svgIcon","create-new-folder",1,"size-20"],["mat-icon-button","",1,"detach-category-button",3,"matTooltip","click"],["svgIcon","delete",1,"size-20"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"button",1),l.Sb(2,"mat-icon",2),l.Wb(),l.Xb(3,"span",3),l.fc("click",(function(t){return e.navigateToArticlesList(e.category)})),l.Nc(4),l.Wb(),l.Lc(5,Nt,1,0,"mat-icon",4),l.Wb(),l.Xb(6,"div",5),l.Xb(7,"div",6),l.Lc(8,Ft,2,0,"span",7),l.Lc(9,zt,3,2,"span",8),l.Wb(),l.Wb(),l.Xb(10,"div",9),l.Xb(11,"button",10),l.fc("click",(function(t){return e.openUpdateCategoryModal(e.category)})),l.kc(12,"trans"),l.Sb(13,"mat-icon",11),l.Wb(),l.Lc(14,Bt,3,3,"button",12),l.Lc(15,Vt,3,3,"button",13),l.Xb(16,"button",14),l.fc("click",(function(t){return e.maybeDeleteCategory(e.category.id)})),l.kc(17,"trans"),l.Sb(18,"mat-icon",15),l.Wb(),l.Wb()),2&t&&(l.Db(4),l.Oc(e.category.name),l.Db(1),l.rc("ngIf",e.category.hidden),l.Db(3),l.rc("ngIf",!e.category.articles_count),l.Db(1),l.rc("ngIf",e.category.articles_count),l.Db(2),l.rc("matTooltip",l.lc(12,8,"Update Category")),l.Db(3),l.rc("ngIf",!e.category.parent_id),l.Db(1),l.rc("ngIf",e.category.parent_id),l.Db(1),l.rc("matTooltip",l.lc(17,10,"Delete Category")))},directives:[jt.b,h.a,r.t,d.b,k.a,u.a],pipes:[w.a],styles:["category-list-item{display:-webkit-box;display:flex;vertical-align:middle;-webkit-box-pack:center;justify-content:center}category-list-item .category-name-container{-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start;-webkit-box-align:center;align-items:center}category-list-item .category-name-container .category-name,category-list-item .category-name-container .drag-handle{vertical-align:middle}category-list-item .category-name-container .category-name:hover{text-decoration:underline;cursor:pointer}category-list-item .drag-handle{color:var(--be-secondary-text);margin-right:8px;cursor:move}category-list-item .info{-webkit-box-flex:0;flex:0 0 150px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;color:var(--be-secondary-text)}category-list-item .actions{-webkit-box-flex:0;flex:0 0 150px;text-align:right}category-list-item .actions button{color:var(--be-secondary-text)}category-list-item .hidden-icon{margin-left:5px;vertical-align:middle}"],encapsulation:2,changeDetection:0}),Ut);function Qt(t,e){if(1&t){var i=l.Yb();l.Xb(0,"category-list-item",22),l.fc("onChange",(function(t){return l.Cc(i),l.jc(3).updateCategories()})),l.Wb()}if(2&t){var n=e.$implicit;l.rc("cdkDragData",n)("category",n),l.Eb("data-id",n.id)}}function Kt(t,e){if(1&t){var i=l.Yb();l.Xb(0,"div",20),l.fc("cdkDropListDropped",(function(t){l.Cc(i);var e=l.jc().$implicit;return l.jc().reorderCategories(t,e)})),l.Lc(1,Qt,1,3,"category-list-item",21),l.Wb()}if(2&t){var n=l.jc().$implicit,r=l.jc();l.Hb("hidden",!r.categoryChildrenVisible),l.rc("cdkDropListDisabled",r.shouldDisableReorder()),l.Db(1),l.rc("ngForOf",n.children)}}function $t(t,e){if(1&t){var i=l.Yb();l.Xb(0,"div",17),l.Xb(1,"category-list-item",18),l.fc("onChange",(function(t){return l.Cc(i),l.jc().updateCategories()})),l.Wb(),l.Lc(2,Kt,2,4,"div",19),l.Wb()}if(2&t){var n=e.$implicit;l.Db(1),l.rc("cdkDragData",n)("category",n),l.Eb("data-id",n.id),l.Db(1),l.rc("ngIf",n.children.length)}}var Zt,Gt=function(){return{exact:!0}},Jt=((Zt=function(){function t(e,i){_classCallCheck(this,t),this.api=e,this.modal=i,this.searchQuery=new a.h,this.allCategories=[],this.filteredCategories=[],this.categoryChildrenVisible=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.updateCategories(),this.bindSearchQuery()}},{key:"showNewCategoryModal",value:function(){var t=this;this.modal.show(Z).afterClosed().subscribe((function(e){e&&t.updateCategories()}))}},{key:"updateCategories",value:function(){var t=this;this.api.getCategories().subscribe((function(e){t.filteredCategories=e.categories,t.allCategories=e.categories,t.filterCategories(t.searchQuery.value)}))}},{key:"bindSearchQuery",value:function(){var t=this;this.searchQuery.valueChanges.pipe(Object(m.a)(400),Object(v.a)()).subscribe((function(e){return t.filterCategories(e)}))}},{key:"filterCategories",value:function(t){this.filteredCategories=(new g).filter(t,this.allCategories)}},{key:"reorderCategories",value:function(t,e){var i=e?e.children:this.filteredCategories;Object(jt.e)(i,t.previousIndex,t.currentIndex);var n=i.map((function(t){return t.id}));this.api.reorderCategories(n,e?e.id:null).subscribe()}},{key:"toggleCategoryChildren",value:function(){this.categoryChildrenVisible=!this.categoryChildrenVisible}},{key:"shouldDisableReorder",value:function(){return this.searchQuery.value}}]),t}()).\u0275fac=function(t){return new(t||Zt)(l.Rb(y.a),l.Rb(tt.a))},Zt.\u0275cmp=l.Lb({type:Zt,selectors:[["categories-list"]],decls:23,vars:13,consts:[[1,"action-bar"],[1,"nav"],["routerLinkActive","router-link-active","trans","",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","router-link-active","trans","",1,"nav-item",3,"routerLink"],[1,"actions"],[1,"action"],["mat-icon-button","",1,"toggle-children-btn",3,"matTooltip","click"],["svgIcon","unfold-more"],[1,"search-bar","input-container"],["type","text","placeholder","Search","trans-placeholder","",1,"categories-search-input",3,"formControl"],["svgIcon","search"],[1,"new-category-button","new-item-button",3,"click"],["svgIcon","add"],["trans",""],[1,"container"],["cdkDropList","",1,"categories-list",3,"cdkDropListDisabled","cdkDropListDropped"],["class","category-container",4,"ngFor","ngForOf"],[1,"category-container"],["cdkDrag","",1,"category-list-item","parent-category",3,"cdkDragData","category","onChange"],["class","category-children","cdkDropList","",3,"hidden","cdkDropListDisabled","cdkDropListDropped",4,"ngIf"],["cdkDropList","",1,"category-children",3,"cdkDropListDisabled","cdkDropListDropped"],["cdkDrag","","class","category-list-item child-category",3,"cdkDragData","category","onChange",4,"ngFor","ngForOf"],["cdkDrag","",1,"category-list-item","child-category",3,"cdkDragData","category","onChange"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"div",1),l.Xb(2,"a",2),l.Nc(3,"Home"),l.Wb(),l.Xb(4,"a",3),l.Nc(5,"Categories"),l.Wb(),l.Xb(6,"a",3),l.Nc(7,"Articles"),l.Wb(),l.Wb(),l.Xb(8,"div",4),l.Xb(9,"div",5),l.Xb(10,"button",6),l.fc("click",(function(t){return e.toggleCategoryChildren()})),l.kc(11,"trans"),l.Sb(12,"mat-icon",7),l.Wb(),l.Wb(),l.Xb(13,"div",8),l.Sb(14,"input",9),l.Sb(15,"mat-icon",10),l.Wb(),l.Xb(16,"button",11),l.fc("click",(function(t){return e.showNewCategoryModal()})),l.Sb(17,"mat-icon",12),l.Xb(18,"span",13),l.Nc(19,"New Category"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",14),l.Xb(21,"section",15),l.fc("cdkDropListDropped",(function(t){return e.reorderCategories(t)})),l.Lc(22,$t,3,4,"div",16),l.Wb(),l.Wb()),2&t&&(l.Db(2),l.rc("routerLink","/help-center")("routerLinkActiveOptions",l.vc(12,Gt)),l.Db(2),l.rc("routerLink","/help-center/manage/categories"),l.Db(2),l.rc("routerLink","/help-center/manage/articles"),l.Db(4),l.Hb("active",e.categoryChildrenVisible),l.rc("matTooltip",l.lc(11,10,"Toggle child categories")),l.Db(4),l.rc("formControl",e.searchQuery),l.Db(7),l.rc("cdkDropListDisabled",e.shouldDisableReorder()),l.Db(1),l.rc("ngForOf",e.filteredCategories))},directives:[o.i,o.h,u.a,d.b,k.a,h.a,a.c,a.t,a.i,jt.c,r.s,qt,jt.a,r.t],pipes:[w.a],styles:["categories-list{display:block;background-color:var(--be-background-alternative)}categories-list .container{min-height:calc(100vh - 125px);margin:0 auto;padding-top:35px}categories-list category-list-item{background-color:var(--be-background);padding:15px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);font-size:1.6rem;margin-bottom:10px;-webkit-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out;border-radius:4px}categories-list category-list-item:hover{background-color:var(--be-accent-emphasis)}categories-list .category-children{margin-left:20px}categories-list .toggle-children-btn{color:var(--be-secondary-text);margin-right:10px}categories-list .toggle-children-btn.active{color:var(--be-accent-default)}categories-list .cdk-drop-list-disabled .drag-handle{color:rgba(0,0,0,.26);cursor:not-allowed}categories-list .cdk-drag-placeholder{opacity:0}categories-list .cdk-drag-animating,categories-list .cdk-drop-list-dragging .cdk-drag:not(.cdk-drag-placeholder){-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}"],encapsulation:2}),Zt),te=i("0QyJ"),ee=o.j.forChild([{path:"",component:At,canActivate:[te.a],children:[{path:"",redirectTo:"articles"},{path:"articles",component:Wt,data:{permissions:["categories.view","tags.view","articles.view","articles.create"]}},{path:"categories",component:Jt,data:{permissions:["categories.view","categories.create"]}},{path:"articles/new",component:pt,resolve:{data:gt},data:{permissions:["articles.create"]}},{path:"articles/:article_id/edit",component:pt,resolve:{data:gt},data:{permissions:["articles.update"]}}]}]),ie=i("xqw2"),ne=i("YHvm"),re=i("gFpt"),ae=i("6rvT"),oe=i("Iysn"),se=i("X3pI"),ce=i("hD7E"),le=i("JZOH"),ue=i("yLOo"),de=i("GSRO");i.d(e,"HcManageModule",(function(){return pe}));var he,pe=((he=function t(){_classCallCheck(this,t)}).\u0275mod=l.Pb({type:he}),he.\u0275inj=l.Ob({factory:function(t){return new(t||he)},imports:[[r.c,a.n,a.D,o.j,ne.a,ie.a,re.a,ae.a,oe.a,se.a,ce.a,le.a,ue.a,de.a,ee,s.g,_t.c,F.b,jt.d,d.c,h.b,k.b,C.b]]}),he)},tTc1:function(t,e,i){"use strict";function n(t,e){var i=document.createElement("a");i.href=t,e&&(i.download=e),document.body.appendChild(i),i.click(),document.body.removeChild(i)}i.d(e,"a",(function(){return n}))},vUXK:function(t,e,i){"use strict";var n=i("fXoL"),r=i("2Vo4"),a=i("XZLl"),o=i("ofXK"),s=i("ZiO8");function c(t,e){1&t&&n.Sb(0,"default-preview",2)}function l(t,e){if(1&t&&(n.Xb(0,"div",3),n.Xb(1,"pre"),n.Nc(2),n.kc(3,"async"),n.Wb(),n.Wb()),2&t){var i=n.jc();n.Db(2),n.Oc(n.lc(3,1,i.content$))}}var u,d=((u=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).content$=new r.a(""),t.fileTooLarge$=new r.a(!1),t}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this.file.file_size>5242880?this.fileTooLarge$.next(!0):this.loadFileContents()}},{key:"loadFileContents",value:function(){var t=this;this.getContents().subscribe((function(e){t.content$.next(e)}))}}]),e}(a.a)).\u0275fac=function(t){return h(t||u)},u.\u0275cmp=n.Lb({type:u,selectors:[["text-preview"]],features:[n.Ab],decls:4,vars:4,consts:[["message","This file is too large to preview.",4,"ngIf","ngIfElse"],["textPreview",""],["message","This file is too large to preview."],[1,"text-wrapper","preview-object"]],template:function(t,e){if(1&t&&(n.Lc(0,c,1,0,"default-preview",0),n.kc(1,"async"),n.Lc(2,l,4,3,"ng-template",null,1,n.Mc)),2&t){var i=n.zc(3);n.rc("ngIf",n.lc(1,2,e.fileTooLarge$))("ngIfElse",i)}},directives:[o.t,s.a],pipes:[o.b],styles:["[_nghost-%COMP%]{display:block;width:80%;min-height:80%}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}.text-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);border-radius:4px;color:var(--be-text);padding:20px;overflow:auto}.text-wrapper[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{word-wrap:break-word}pre[_ngcontent-%COMP%]{display:block;white-space:pre-wrap;margin:0;font-size:1.4rem;font-family:inherit}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),u),h=n.Zb(d),p=["playerEl"];function b(t,e){1&t&&n.Sb(0,"default-preview")}var g,f=((g=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).invalidMedia=!1,t}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this.invalidMedia=!this.canPlayVideo(),this.invalidMedia||(this.player().src=this.getSrc(),this.player().play())}},{key:"canPlayVideo",value:function(){return!!this.player().canPlayType(this.file.mime)}},{key:"player",value:function(){return this.playerEl.nativeElement}}]),e}(a.a)).\u0275fac=function(t){return m(t||g)},g.\u0275cmp=n.Lb({type:g,selectors:[["audio-preview"]],viewQuery:function(t,e){var i;1&t&&n.Jc(p,!0),2&t&&n.yc(i=n.gc())&&(e.playerEl=i.first)},features:[n.Ab],decls:3,vars:3,consts:[["controls","controls","controlsList","nodownload noremoteplayback",1,"preview-object"],["playerEl",""],[4,"ngIf"]],template:function(t,e){1&t&&(n.Sb(0,"audio",0,1),n.Lc(2,b,1,0,"default-preview",2)),2&t&&(n.Hb("hidden",e.invalidMedia),n.Db(2),n.rc("ngIf",e.invalidMedia))},directives:[o.t,s.a],styles:["[_nghost-%COMP%]{display:block;max-width:80%;height:auto}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}audio[_ngcontent-%COMP%]{display:block;max-width:100%;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}audio[_ngcontent-%COMP%], default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),g),m=n.Zb(f);function v(t,e){1&t&&n.Sb(0,"default-preview")}var y,_,k,C=((y=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(f)).\u0275fac=function(t){return w(t||y)},y.\u0275cmp=n.Lb({type:y,selectors:[["video-preview"]],features:[n.Ab],decls:3,vars:3,consts:[["controls","controls","controlsList","nodownload noremoteplayback",1,"preview-object"],["playerEl",""],[4,"ngIf"]],template:function(t,e){1&t&&(n.Sb(0,"video",0,1),n.Lc(2,v,1,0,"default-preview",2)),2&t&&(n.Hb("hidden",e.invalidMedia),n.Db(2),n.rc("ngIf",e.invalidMedia))},directives:[o.t,s.a],styles:["[_nghost-%COMP%]{display:block;max-width:80%;max-height:80%;height:auto}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}video[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}default-preview[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),y),w=n.Zb(C),x=((_=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(a.a)).\u0275fac=function(t){return D(t||_)},_.\u0275cmp=n.Lb({type:_,selectors:[["image-preview"]],features:[n.Ab],decls:1,vars:1,consts:[[1,"preview-object",3,"src"]],template:function(t,e){1&t&&n.Sb(0,"img",0),2&t&&n.rc("src",e.getSafeSrc(),n.Fc)},styles:["[_nghost-%COMP%]{display:block;max-width:80%;max-height:80%;height:auto}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;height:auto;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);position:absolute;top:0;left:0;right:0;bottom:0;background-color:var(--be-background)}"],changeDetection:0}),_),D=n.Zb(x),S=((k=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).className="preview-object",t}return _inherits(e,t),_createClass(e,[{key:"getSrc",value:function(){return _get(_getPrototypeOf(e.prototype),"getSrc",this).call(this)+"#toolbar=0"}}]),e}(a.a)).\u0275fac=function(t){return I(t||k)},k.\u0275cmp=n.Lb({type:k,selectors:[["pdf-preview"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Fb(e.className)},features:[n.Ab],decls:1,vars:1,consts:[[3,"src"]],template:function(t,e){1&t&&n.Sb(0,"iframe",0),2&t&&n.rc("src",e.getSafeSrc(),n.Ec)},styles:["[_nghost-%COMP%]{display:block;margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%], iframe[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{border:none}"],changeDetection:0}),k),I=n.Zb(S),R=i("XFMS"),O=i("FBzJ"),P=["iframe"];function X(t,e){if(1&t){var i=n.Yb();n.Vb(0),n.Sb(1,"iframe",3,4),n.Xb(3,"div",5),n.fc("click",(function(t){return n.Cc(i),n.jc().openInNewWindow()})),n.Wb(),n.Ub()}}function L(t,e){1&t&&n.Sb(0,"default-preview")}var W,E=((W=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).loading$=new r.a(!0),t.showDefaultPreview$=new r.a(!1),t}return _inherits(e,t),_createClass(e,[{key:"ngAfterViewInit",value:function(){var t=this;if(this.file.file_size>25e6)return this.showDefaultPreview();this.iframe.nativeElement.onload=function(){clearTimeout(t.timeoutRef),t.stopLoading()},this.getIframeSrc().then((function(e){t.iframe.nativeElement.src=e})).catch((function(){t.showDefaultPreview()})),this.timeoutRef=setTimeout((function(){t.showDefaultPreview()}),5e3)}},{key:"stopLoading",value:function(){this.loading$.next(!1)}},{key:"showDefaultPreview",value:function(){this.stopLoading(),this.showDefaultPreview$.next(!0)}},{key:"openInNewWindow",value:function(){window.open(window.location.href,"_blank")}},{key:"getIframeSrc",value:function(){var t=this;return new Promise((function(e,i){var n=t.getSrc();-1===n.indexOf("shareable_link")?t.http.post("uploads/".concat(t.file.id,"/add-preview-token")).subscribe((function(i){n+="?preview_token=".concat(i.preview_token),e(t.getGoogleDocsUrl(n))}),(function(){return i})):e(t.getGoogleDocsUrl(n))}))}},{key:"getGoogleDocsUrl",value:function(t){return t=Object(R.a)(t)?t:this.settings.getBaseUrl()+t,"https://docs.google.com/gview?embedded=true&url="+encodeURIComponent(t)}}]),e}(a.a)).\u0275fac=function(t){return T(t||W)},W.\u0275cmp=n.Lb({type:W,selectors:[["google-docs-viewer"]],viewQuery:function(t,e){var i;1&t&&n.Sc(P,!0),2&t&&n.yc(i=n.gc())&&(e.iframe=i.first)},features:[n.Ab],decls:6,vars:7,consts:[[4,"ngIf","ngIfElse"],["defaultPreview",""],[1,"overlay",3,"isVisible"],[1,"preview-object"],["iframe",""],[1,"pop-out-block",3,"click"]],template:function(t,e){if(1&t&&(n.Lc(0,X,4,0,"ng-container",0),n.kc(1,"async"),n.Lc(2,L,1,0,"ng-template",null,1,n.Mc),n.Sb(4,"loading-indicator",2),n.kc(5,"async")),2&t){var i=n.zc(3);n.rc("ngIf",!n.lc(1,3,e.showDefaultPreview$))("ngIfElse",i),n.Db(4),n.rc("isVisible",n.lc(5,5,e.loading$))}},directives:[o.t,O.a,s.a],pipes:[o.b],styles:["[_nghost-%COMP%]{display:block;margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%]{border:none}loading-indicator.overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:transparent}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}.pop-out-block[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:12px;right:12px;cursor:pointer}"],changeDetection:0}),W),T=n.Zb(E);i.d(e,"a",(function(){return A})),i.d(e,"b",(function(){return j}));var M,A=new n.r("AVAILABLE_PREVIEWS"),j=((M=function t(){_classCallCheck(this,t),this.text=d,this.video=C,this.audio=f,this.image=x,this.pdf=S,this.spreadsheet=E,this.powerPoint=E,this.word=E}).\u0275fac=function(t){return new(t||M)},M.\u0275prov=n.Nb({token:M,factory:M.\u0275fac}),M)},xv5E:function(t,e,i){"use strict";i.d(e,"a",(function(){return _}));var n=i("fXoL"),r=i("3Pt+"),a=i("2Vo4"),o=i("IgbF"),s=i("ofXK"),c=i("A5z7"),l=i("/1cH"),u=i("bTqV"),d=i("Rd8u"),h=i("NFeN"),p=i("FKr1");function b(t,e){if(1&t){var i=n.Yb();n.Xb(0,"form",9),n.fc("ngSubmit",(function(t){return n.Cc(i),n.jc().addTags()})),n.Sb(1,"input",10),n.Xb(2,"button",11),n.Nc(3,"Add"),n.Wb(),n.Wb()}if(2&t){var r=n.jc(),a=n.zc(8);n.Db(1),n.rc("matAutocomplete",a)("formControl",r.formControl)}}function g(t,e){1&t&&(n.Xb(0,"p",12),n.Nc(1,"Separate tags with comma."),n.Wb())}function f(t,e){if(1&t){var i=n.Yb();n.Xb(0,"mat-chip",13),n.fc("removed",(function(t){n.Cc(i);var r=e.$implicit;return n.jc().removeTag(r)})),n.Xb(1,"span"),n.Nc(2),n.Wb(),n.Sb(3,"mat-icon",14),n.Wb()}if(2&t){var r=e.$implicit,a=n.jc();n.rc("removable",!a.readonly),n.Db(2),n.Oc(r)}}function m(t,e){if(1&t){var i=n.Yb();n.Xb(0,"div",19),n.fc("click",(function(t){n.Cc(i);var r=e.$implicit;return n.jc(2).addTag(r.name)})),n.Nc(1),n.Wb()}if(2&t){var r=e.$implicit;n.Db(1),n.Oc(r.display_name)}}function v(t,e){if(1&t&&(n.Xb(0,"div",15),n.Xb(1,"p",16),n.Nc(2,"Choose from existing tags:"),n.Wb(),n.Xb(3,"div",17),n.Lc(4,m,2,1,"div",18),n.kc(5,"async"),n.Wb(),n.Wb()),2&t){var i=n.jc();n.Db(4),n.rc("ngForOf",n.lc(5,1,i.allTags$))}}function y(t,e){if(1&t&&(n.Xb(0,"mat-option",20),n.Nc(1),n.Wb()),2&t){var i=e.$implicit;n.rc("value",i.name),n.Db(1),n.Oc(i.display_name)}}var _=function(){var t=function(){function t(e){_classCallCheck(this,t),this.tagService=e,this.onChange=new n.o,this.selectedTags=[],this.readonly=!1,this.formControl=new r.h,this.allTags$=new a.a([]),this.suggestedTags$=new a.a([])}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.tagService.getTags({perPage:15}).subscribe((function(e){t.allTags$.next(e.pagination.data.filter((function(t){return"status"!==t.type})))})),this.formControl.valueChanges.subscribe((function(e){var i=e?t.allTags$.value.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):[];t.suggestedTags$.next(i)}))}},{key:"getSelectedTags",value:function(){return this.selectedTags.slice()}},{key:"setSelectedTags",value:function(t){return this.selectedTags=t}},{key:"addTags",value:function(t){var e=this;(t=t||this.formControl.value)&&(t.split(",").forEach((function(t){var i=t.trim();-1===e.selectedTags.indexOf(i)&&e.selectedTags.push(i)})),this.formControl.reset(),this.onChange.emit(this.selectedTags))}},{key:"addTag",value:function(t){-1===this.selectedTags.indexOf(t)&&(this.selectedTags.push(t),this.onChange.emit(this.selectedTags))}},{key:"removeTag",value:function(t){var e=this.selectedTags.indexOf(t);this.selectedTags.splice(e,1),this.onChange.emit(this.selectedTags)}},{key:"deselectAll",value:function(){this.selectedTags=[],this.onChange.emit(this.selectedTags)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.Rb(o.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["tags-manager"]],inputs:{selectedTags:"selectedTags",readonly:"readonly"},outputs:{onChange:"onChange"},decls:11,vars:10,consts:[["class","input-container input-group","ngNativeValidate","",3,"ngSubmit",4,"ngIf"],["class","main-info","trans","",4,"ngIf"],[1,"selected-tags"],[3,"selectable"],[3,"removable","removed",4,"ngFor","ngForOf"],["class","existing-tags",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["ngNativeValidate","",1,"input-container","input-group",3,"ngSubmit"],["type","text","name","tag-input","required","",1,"tags-string-model",3,"matAutocomplete","formControl"],["type","submit","mat-flat-button","","color","accent","trans","",1,"add-tags-button"],["trans","",1,"main-info"],[3,"removable","removed"],["svgIcon","cancel","matChipRemove",""],[1,"existing-tags"],["trans",""],[1,"tags-list"],["class","tag-name",3,"click",4,"ngFor","ngForOf"],[1,"tag-name",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Lc(0,b,4,2,"form",0),n.Lc(1,g,2,0,"p",1),n.Xb(2,"div",2),n.Xb(3,"mat-chip-list",3),n.Lc(4,f,4,2,"mat-chip",4),n.Wb(),n.Wb(),n.Lc(5,v,6,3,"div",5),n.kc(6,"async"),n.Xb(7,"mat-autocomplete",6,7),n.fc("optionSelected",(function(t){return e.addTags(t.option.value)})),n.Lc(9,y,2,2,"mat-option",8),n.kc(10,"async"),n.Wb()),2&t&&(n.rc("ngIf",!e.readonly),n.Db(1),n.rc("ngIf",!e.readonly),n.Db(2),n.rc("selectable",!1),n.Db(1),n.rc("ngForOf",e.selectedTags),n.Db(1),n.rc("ngIf",!e.readonly&&n.lc(6,6,e.allTags$).length),n.Db(4),n.rc("ngForOf",n.lc(10,8,e.suggestedTags$)))},directives:[s.t,c.c,s.s,l.a,r.u,r.v,l.c,r.c,r.E,r.t,r.i,u.b,d.a,c.a,h.a,c.d,p.n],pipes:[s.b],styles:["tags-manager{display:block}tags-manager .selected-tags .tag{margin:0 10px 10px 0;display:inline-block}tags-manager .input-group{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}tags-manager .input-group button{border-top-left-radius:0;border-bottom-left-radius:0}tags-manager .input-group input{border-right:none}tags-manager .main-info{margin-top:5px;font-size:1.3rem}tags-manager .existing-tags{margin-top:25px}tags-manager .existing-tags>p{margin-bottom:5px;font-size:1.3rem;color:var(--be-secondary-text)}tags-manager .existing-tags .tags-list{border:1px solid var(--be-divider-default);padding:8px;max-height:60px;overflow:auto}tags-manager .existing-tags .tags-list>.tag-name{display:inline-block;margin-right:6px;color:var(--be-link);text-decoration:underline;font-size:1.2rem;cursor:pointer}"],encapsulation:2,changeDetection:0}),t}()},yLOo:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("ofXK"),r=i("3Pt+"),a=i("6rvT"),o=i("A5z7"),s=i("NFeN"),c=i("bTqV"),l=i("/1cH"),u=i("fXoL"),d=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=u.Pb({type:t}),t.\u0275inj=u.Ob({factory:function(e){return new(e||t)},imports:[[n.c,r.n,r.D,a.a,o.e,s.b,c.c,l.b]]}),t}()}}]);
//# sourceMappingURL=10-es5.1f3ea0eb4eb24ab7882a.js.map